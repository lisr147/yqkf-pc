"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[7040],{89241:(e,t,r)=>{r.d(t,{L:()=>s});var o=r(91700);class s{constructor(e,t){this._storage=new o.a,this._storage.maxSize=e,t&&this._storage.registerRemoveFunc("",t)}put(e,t,r){this._storage.put(e,t,r,1)}pop(e){return this._storage.pop(e)}get(e){return this._storage.get(e)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}get maxSize(){return this._storage.maxSize}set maxSize(e){this._storage.maxSize=e}}},22739:(e,t,r)=>{r.d(t,{L:()=>h});var o=r(29768),s=r(60991),i=r(20543),l=r(50406),n=r(17533),a=r(34250);const u=e=>{let t=class extends e{constructor(...e){super(...e),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise((e=>{const t=this.load.bind(this);this.load=r=>{const o=new Promise(((e,t)=>{const o=(0,l.$F)(r,t);this.destroyed&&t(new s.Z("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(e,t).finally((()=>{o&&o.remove()}))}));if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const e=this._loadController=new AbortController;t({signal:e.signal}),(0,l.fu)(e.signal,(()=>{this._promiseProps.abort()}))}return e(),o}}))),this.when((()=>{this._set("loadStatus","loaded"),this._loadController=null}),(e=>{this._set("loadStatus","failed"),this._set("loadError",e),this._loadController=null}))}get loaded(){return"loaded"===this.loadStatus}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var e;return this.isFulfilled()||(this._set("loadError",new s.Z("load:cancelled","Cancelled")),null==(e=this._loadController)||e.abort()),this}};return(0,o._)([(0,a.Cb)({readOnly:!0})],t.prototype,"loaded",null),(0,o._)([(0,a.Cb)({readOnly:!0})],t.prototype,"loadError",void 0),(0,o._)([(0,a.Cb)({clonable:!1})],t.prototype,"loadStatus",void 0),(0,o._)([(0,a.Cb)({type:[n.W],readOnly:!0})],t.prototype,"loadWarnings",null),t=(0,o._)([(0,n.j)("esri.core.Loadable")],t),t};let p=class extends(u(i.E)){};var d;p=(0,o._)([(0,n.j)("esri.core.Loadable")],p),(d=p||(p={})).LoadableMixin=u,d.isLoadable=function(e){return!(!e||!e.load)};const h=p},20543:(e,t,r)=>{r.d(t,{E:()=>h,a:()=>d});var o,s,i=r(29768),l=r(21972),n=r(76506),a=r(50406),u=r(17533);(s=o||(o={}))[s.PENDING=0]="PENDING",s[s.RESOLVED=1]="RESOLVED",s[s.REJECTED=2]="REJECTED";class p{constructor(e){this.instance=e,this._resolver=(0,a.dD)(),this._status=o.PENDING,this._resolvingPromises=[],this._resolver.promise.then((()=>{this._status=o.RESOLVED,this._cleanUp()}),(()=>{this._status=o.REJECTED,this._cleanUp()}))}addResolvingPromise(e){this._resolvingPromises.push(e),this._tryResolve()}isResolved(){return this._status===o.RESOLVED}isRejected(){return this._status===o.REJECTED}isFulfilled(){return this._status!==o.PENDING}abort(){this._resolver.reject((0,a.zE)())}when(e,t){return this._resolver.promise.then(e,t)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const e=(0,a.dD)(),t=[...this._resolvingPromises,(0,n.a)(e.promise)],r=this._allPromise=Promise.all(t);r.then((()=>{this.isFulfilled()||this._allPromise!==r||this._resolver.resolve(this.instance)}),(e=>{this.isFulfilled()||this._allPromise!==r||(0,a.D_)(e)||this._resolver.reject(e)})),e.resolve()}}const d=e=>{let t=class extends e{constructor(...e){super(...e),this._promiseProps=new p(this),this.addResolvingPromise(Promise.resolve())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(e,t){return new Promise(((e,t)=>{this._promiseProps.when(e,t)})).then(e,t)}catch(e){return this.when(null,e)}addResolvingPromise(e){e&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in e?e.when():e)}};return t=(0,i._)([(0,u.j)("esri.core.Promise")],t),t};let h=class extends(d(l.Z)){};h=(0,i._)([(0,u.j)("esri.core.Promise")],h)},99403:(e,t,r)=>{r.d(t,{e:()=>s,f:()=>n,p:()=>i,t:()=>l});const o=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;function s(e){return e?e/72*96:0}function i(e){return e?72*e/96:0}function l(e){if("string"==typeof e){const t=e.match(o);if(t){const r=Number(t[1]),o=t[3]&&t[3].toLowerCase(),s="-"===e.charAt(0),l="px"===o?i(r):r;return s?-l:l}return console.warn("screenUtils.toPt: input not recognized!"),null}return e}function n(e=0,t=0){return{x:e,y:t}}},71831:(e,t,r)=>{r.d(t,{S:()=>v,f:()=>d,m:()=>h,r:()=>y,s:()=>c});var o=r(82058),s=r(60991),i=r(50406),l=r(32101),n=r(49900),a=r(67477),u=r(76506);const p={};function d(e,t,r){return e.styleUrl?async function(e,t){try{return{data:(await y(e,t)).data,baseUrl:(0,l.Yd)(e),styleUrl:e}}catch(e){return(0,i.r9)(e),null}}(e.styleUrl,r):e.styleName?function(e,t,r){const o=t&&t.portal||n.Z.getDefault();let i;const l=`${o.url} - ${o.user&&o.user.username} - ${e}`;return p[l]||(p[l]=function(e,t,r){return t.load(r).then((()=>{const o=new a.Z({disableExtraQuery:!0,query:`owner:${m} AND type:${_} AND typekeywords:"${e}"`});return t.queryItems(o,r)})).then((({results:t})=>{let o=null;const i=e.toLowerCase();if(t&&Array.isArray(t))for(const e of t)if(e.typeKeywords.some((e=>e.toLowerCase()===i))&&e.type===_&&e.owner===m){o=e;break}if(!o)throw new s.Z("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return o.load(r)}))}(e,o,r).then((e=>(i=e,e.fetchData()))).then((t=>({data:t,baseUrl:i.itemUrl,styleName:e})))),p[l]}(e.styleName,t,r):Promise.reject(new s.Z("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function h(e){return null===e||"CIMSymbolReference"===e.type?e:{type:"CIMSymbolReference",symbol:e}}function c(e,t){if("cimRef"===t)return e.cimRef;if(e.formatInfos&&!(0,u.h)("enable-feature:force-wosr"))for(const t of e.formatInfos)if("gltf"===t.type)return t.href;return e.webRef}function y(e,t){const r={responseType:"json",query:{f:"json"},...t};return(0,o.default)((0,l.Fv)(e),r)}const m="esri_en",_="Style",v="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},49900:(e,t,r)=>{r.d(t,{Z:()=>G});var o,s=r(29768),i=r(31450),l=r(88762),n=r(82058),a=r(23639),u=r(60991),p=r(74673),d=r(22739),h=r(92143),c=r(76506),y=r(50406),m=r(34250),_=r(91306),v=r(97714),b=r(17533),f=r(21801),C=r(3482),g=r(67477),S=r(78533),P=r(74653);let w;r(71552),r(32101),r(40642),r(21972),r(60474),r(66396),r(22723),r(86656),r(91055),r(6540),r(19657),r(6906),r(20543),r(73796),r(60947),r(2906),r(91597),r(86787),r(35132),r(89623),r(57251),r(91091),r(58943);const O={PortalGroup:()=>Promise.resolve().then(r.bind(r,58943)),PortalItem:()=>r.e(6420).then(r.bind(r,56420)),PortalUser:()=>Promise.resolve().then(r.bind(r,74653))};let U=o=class extends((0,p.J)(d.L)){constructor(e){super(e),this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=i.Z.portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return"string"==typeof e?{url:e}:e}destroy(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)-1===i.Z.request.trustedServers.indexOf(t)&&i.Z.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!e?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get stylesGroupQuery(){return(0,a.a)(h.L.getLogger(this.declaredClass),"stylesGroupQuery",{replacement:"stylesGroupQuery3d",version:"4.21"}),this.stylesGroupQuery3d}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e?e.toLowerCase():e}readUser(e){let t=null;return e&&(t=P.default.fromJSON(e),t.portal=this),t}load(e){const t=Promise.all([r.e(6420),r.e(599)]).then(r.bind(r,60599)).then((e=>e.B)).then((({default:t})=>{(0,y.k_)(e),w=t})).then((()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,e))).then((e=>{if(l.id){const e=l.id;this.credential=e.findCredential(this.restUrl),this.credential||this.authMode!==o.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=e.on("credential-create",(()=>{e.findCredential(this.restUrl)&&this._signIn()})))}this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(t),Promise.resolve(this)}async createClosestFacilityTask(){(0,a.b)(h.L.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/closestFacility",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("closestFacility");return new(0,(await Promise.all([r.e(135),r.e(6748),r.e(3920),r.e(4486)]).then(r.bind(r,74486))).default)(e)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await Promise.all([r.e(6420),r.e(1688),r.e(2204),r.e(1864)]).then(r.bind(r,72204))).default;return e?e.map((e=>new t({id:e.id,url:e.url}))):[]}async createGeometryService(){(0,a.b)(h.L.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/geometryService",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("geometry");return new(0,(await r.e(3981).then(r.bind(r,3981))).default)({url:e})}async createPrintTask(){(0,a.b)(h.L.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/print",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("printTask");return new(0,(await Promise.all([r.e(135),r.e(6748),r.e(4057),r.e(3232)]).then(r.bind(r,63232))).default)(e)}async createRouteTask(){(0,a.b)(h.L.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/route",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("route");return new(0,(await Promise.all([r.e(135),r.e(6748),r.e(3920),r.e(1892),r.e(3262)]).then(r.bind(r,3262))).default)(e)}async createServiceAreaTask(){(0,a.b)(h.L.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/serviceArea",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("serviceArea");return new(0,(await Promise.all([r.e(135),r.e(6748),r.e(487)]).then(r.bind(r,50487))).default)(e)}fetchBasemaps(e,t){const r=new g.Z;return r.query=e||(i.Z.apiKey&&(0,n.s)(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0,this.queryGroups(r,t).then((e=>{if(r.num=100,r.query='type:"Web Map" -type:"Web Application"',e.total){const o=e.results[0];return r.sortField=o.sortField||"name",r.sortOrder=o.sortOrder||"desc",o.queryItems(r,t)}return null})).then((e=>{let t;return t=e&&e.total?e.results.filter((e=>"Web Map"===e.type)).map((e=>new w({portalItem:e}))):[],t}))}fetchCategorySchema(e){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",e).then((e=>e.categorySchema)):(0,y.Hc)(e)?Promise.reject((0,y.zE)()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,r=new g.Z;if(r.num=100,r.sortField="title",t&&t.length){const o=[];for(const e of t)o.push(`(title:"${e.title}" AND owner:${e.owner})`);return r.query=o.join(" OR "),this.queryGroups(r,e).then((e=>e.results))}return(0,y.Hc)(e)?Promise.reject((0,y.zE)()):Promise.resolve([])}fetchRegions(e){var t;const r=(null==(t=this.user)?void 0:t.culture)||this.culture||(0,C.g)();return this._request(this.restUrl+"/portals/regions",{...e,query:{culture:r}})}fetchSettings(e){var t;const r=(null==(t=this.user)?void 0:t.culture)||this.culture||(0,C.g)();return this._request(this.restUrl+"/portals/self/settings",{...e,query:{culture:r}})}static getDefault(){return o._default&&!o._default.destroyed||(o._default=new o),o._default}queryGroups(e,t){return this._queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this._queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this._queryPortal("/community/users",e,"PortalUser",t)}toJSON(){throw new u.Z("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new o({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new u.Z("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}_getHelperServiceUrl(e){const t=this._getHelperService(e);if(!t.url)throw new u.Z("portal:service-url-not-found",`The \`helperServices\` entry "${e}" does not include a \`url\` value`);return t.url}_fetchSelf(e=this.authMode,t=!1,r){const o=this.restUrl+"/portals/self",s={authMode:e,query:{culture:(0,C.g)().toLowerCase()},...r};return"auto"===s.authMode&&(s.authMode="no-prompt"),t&&(s.query.default=!0),this._request(o,s)}_queryPortal(e,t,r,s){const i=(0,_.e)(g.Z,t),l=t=>this._request(this.restUrl+e,{...i.toRequestOptions(this),...s}).then((e=>{const r=i.clone();return r.start=e.nextStart,new S.Z({nextQueryParams:r,queryParams:i,total:e.total,results:o._resultsToTypedArray(t,{portal:this},e,s)})})).then((e=>Promise.all(e.results.map((t=>"function"==typeof t.when?t.when():e))).then((()=>e),(t=>((0,y.r9)(t),e)))));return r&&O[r]?O[r]().then((({default:e})=>((0,y.k_)(s),l(e)))):l()}_signIn(){if(this.authMode===o.AUTH_MODE_ANONYMOUS)return Promise.reject(new u.Z("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const e=e=>Promise.resolve().then((()=>"not-loaded"===this.loadStatus?(e||(this.authMode="immediate"),this.load().then((()=>null))):"loading"===this.loadStatus?this.load().then((()=>this.credential?null:(this.credential=e,this._fetchSelf("immediate")))):this.user&&this.credential===e?null:(this.credential=e,this._fetchSelf("immediate")))).then((e=>{e&&(this.sourceJSON=e,this.read(e))}));return l.id?l.id.getCredential(this.restUrl).then((t=>e(t))):e(this.credential)}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_normalizeUrl(e){const t=this.credential&&this.credential.token;return this._normalizeSSL(t?e+(e.indexOf("?")>-1?"&":"?")+"token="+t:e)}_requestToTypedArray(e,t,r){return this._request(e,t).then((e=>{const t=o._resultsToTypedArray(r,{portal:this},e);return Promise.all(t.map((t=>"function"==typeof t.when?t.when():e))).then((()=>t),(()=>t))}))}_readBasemap(e){if(e){const t=w.fromJSON(e);return t.portalItem={portal:this},t}return null}_request(e,t={}){const r={f:"json",...t.query},{authMode:s=(this.authMode===o.AUTH_MODE_ANONYMOUS?"anonymous":"auto"),body:i=null,cacheBust:l=!1,method:a="auto",responseType:u="json",signal:p}=t,d={authMode:s,body:i,cacheBust:l,method:a,query:r,responseType:u,timeout:0,signal:p};return(0,n.default)(this._normalizeSSL(e),d).then((e=>e.data))}static _resultsToTypedArray(e,t,r,o){let s;if(r){const i=(0,c.i)(o)?o.signal:null;s=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(s=s.map((r=>{const o=Object.assign(e?e.fromJSON(r):r,t);return"function"==typeof o.load&&o.load(i),o})))}else s=[];return s}};U.AUTH_MODE_ANONYMOUS="anonymous",U.AUTH_MODE_AUTO="auto",U.AUTH_MODE_IMMEDIATE="immediate",(0,s._)([(0,m.Cb)()],U.prototype,"access",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"allSSL",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"authMode",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"authorizedCrossOriginDomains",void 0),(0,s._)([(0,v.r)("authorizedCrossOriginDomains")],U.prototype,"readAuthorizedCrossOriginDomains",null),(0,s._)([(0,m.Cb)()],U.prototype,"basemapGalleryGroupQuery",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"bingKey",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"canListApps",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"canListData",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"canListPreProvisionedItems",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"canProvisionDirectPurchase",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"canSearchPublic",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"canShareBingPublic",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"canSharePublic",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"canSignInArcGIS",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"canSignInIDP",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"colorSetsGroupQuery",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"commentsEnabled",void 0),(0,s._)([(0,m.Cb)({type:Date})],U.prototype,"created",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"credential",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"culture",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"currentVersion",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"customBaseUrl",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"defaultBasemap",void 0),(0,s._)([(0,v.r)("defaultBasemap")],U.prototype,"readDefaultBasemap",null),(0,s._)([(0,m.Cb)()],U.prototype,"defaultDevBasemap",void 0),(0,s._)([(0,v.r)("defaultDevBasemap")],U.prototype,"readDefaultDevBasemap",null),(0,s._)([(0,m.Cb)({type:f.Z})],U.prototype,"defaultExtent",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"defaultVectorBasemap",void 0),(0,s._)([(0,v.r)("defaultVectorBasemap")],U.prototype,"readDefaultVectorBasemap",null),(0,s._)([(0,m.Cb)()],U.prototype,"description",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"devBasemapGalleryGroupQuery",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"eueiEnabled",void 0),(0,s._)([(0,m.Cb)({readOnly:!0})],U.prototype,"extraQuery",null),(0,s._)([(0,m.Cb)()],U.prototype,"featuredGroups",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"featuredItemsGroupQuery",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"galleryTemplatesGroupQuery",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"livingAtlasGroupQuery",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"hasCategorySchema",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"helpBase",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"helperServices",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"helpMap",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"homePageFeaturedContent",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"homePageFeaturedContentCount",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"httpPort",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"httpsPort",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"id",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"ipCntryCode",void 0),(0,s._)([(0,m.Cb)({readOnly:!0})],U.prototype,"isOrganization",null),(0,s._)([(0,m.Cb)()],U.prototype,"isPortal",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"isReadOnly",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"layerTemplatesGroupQuery",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"maxTokenExpirationMinutes",void 0),(0,s._)([(0,m.Cb)({type:Date})],U.prototype,"modified",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"name",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"portalHostname",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"portalMode",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"portalProperties",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"region",void 0),(0,s._)([(0,m.Cb)({readOnly:!0})],U.prototype,"restUrl",null),(0,s._)([(0,m.Cb)()],U.prototype,"rotatorPanels",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"showHomePageDescription",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"sourceJSON",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"staticImagesUrl",void 0),(0,s._)([(0,m.Cb)({readOnly:!0,json:{read:!1}})],U.prototype,"stylesGroupQuery",null),(0,s._)([(0,m.Cb)({json:{name:"2DStylesGroupQuery"}})],U.prototype,"stylesGroupQuery2d",void 0),(0,s._)([(0,m.Cb)({json:{name:"stylesGroupQuery"}})],U.prototype,"stylesGroupQuery3d",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"supportsHostedServices",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"symbolSetsGroupQuery",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"templatesGroupQuery",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"thumbnail",void 0),(0,s._)([(0,m.Cb)({readOnly:!0})],U.prototype,"thumbnailUrl",null),(0,s._)([(0,m.Cb)()],U.prototype,"units",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"url",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"urlKey",void 0),(0,s._)([(0,v.r)("urlKey")],U.prototype,"readUrlKey",null),(0,s._)([(0,m.Cb)()],U.prototype,"user",void 0),(0,s._)([(0,v.r)("user")],U.prototype,"readUser",null),(0,s._)([(0,m.Cb)()],U.prototype,"useStandardizedQuery",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"useVectorBasemaps",void 0),(0,s._)([(0,m.Cb)()],U.prototype,"vectorBasemapGalleryGroupQuery",void 0),U=o=(0,s._)([(0,b.j)("esri.portal.Portal")],U);const G=U},91091:(e,t,r)=>{r.d(t,{Z:()=>u});var o=r(29768),s=r(60991),i=r(74673),l=r(34250),n=(r(76506),r(91306),r(17533));r(92143),r(31450),r(71552),r(40642),r(21972),r(23639),r(60474),r(66396),r(22723),r(86656),r(91055),r(6540),r(19657),r(6906),r(50406);let a=class extends i.a{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new s.Z("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};(0,o._)([(0,l.Cb)({type:Date})],a.prototype,"created",void 0),(0,o._)([(0,l.Cb)()],a.prototype,"id",void 0),(0,o._)([(0,l.Cb)()],a.prototype,"portal",void 0),(0,o._)([(0,l.Cb)()],a.prototype,"title",void 0),(0,o._)([(0,l.Cb)({readOnly:!0})],a.prototype,"url",null),(0,o._)([(0,l.Cb)()],a.prototype,"username",void 0),a=(0,o._)([(0,n.j)("esri.portal.PortalFolder")],a);const u=a},58943:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var o=r(29768),s=r(60991),i=r(74673),l=r(34250),n=(r(76506),r(91306)),a=r(17533),u=r(67477);r(92143),r(31450),r(71552),r(40642),r(21972),r(23639),r(60474),r(66396),r(22723),r(86656),r(91055),r(6540),r(19657),r(6906),r(50406),r(57251),r(21801),r(73796),r(97714),r(60947),r(2906),r(91597),r(86787),r(35132),r(89623);let p=class extends i.a{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.get("portal.restUrl");return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal._request(this.url+"/categorySchema",e).then((t=>{const r=t.categorySchema||[];return r.some((e=>"contentCategorySetsGroupQuery.LivingAtlas"===e.source))?this._fetchCategorySchemaSet("LivingAtlas",e):r}))}fetchMembers(e){return this.portal._request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new s.Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(e,t){let r=(0,n.e)(u.Z,e);return parseFloat(this.portal.currentVersion)>5?(r=r||new u.Z,this.portal._queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",t)):(r=r?r.clone():new u.Z,r.query="group:"+this.id+(r.query?" "+r.query:""),this.portal.queryItems(r,t))}_fetchCategorySchemaSet(e,t){return this.portal._fetchSelf(this.portal.authMode,!0,t).then((e=>{const r=e.contentCategorySetsGroupQuery;if(r){const e=new u.Z;return e.disableExtraQuery=!0,e.num=1,e.query=r,this.portal.queryGroups(e,t)}throw new s.Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")})).then((r=>{if(r.total){const o=r.results[0],s=new u.Z;return s.num=1,s.query=`typekeywords:"${e}"`,o.queryItems(s,t)}throw new s.Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")})).then((e=>e.total?e.results[0].fetchData("json",t).then((e=>{const t=e&&e.categorySchema;return t&&t.length?t:[]})):[]))}};(0,o._)([(0,l.Cb)()],p.prototype,"access",void 0),(0,o._)([(0,l.Cb)({type:Date})],p.prototype,"created",void 0),(0,o._)([(0,l.Cb)()],p.prototype,"description",void 0),(0,o._)([(0,l.Cb)()],p.prototype,"id",void 0),(0,o._)([(0,l.Cb)()],p.prototype,"isInvitationOnly",void 0),(0,o._)([(0,l.Cb)({type:Date})],p.prototype,"modified",void 0),(0,o._)([(0,l.Cb)()],p.prototype,"owner",void 0),(0,o._)([(0,l.Cb)()],p.prototype,"portal",void 0),(0,o._)([(0,l.Cb)()],p.prototype,"snippet",void 0),(0,o._)([(0,l.Cb)()],p.prototype,"sortField",void 0),(0,o._)([(0,l.Cb)()],p.prototype,"sortOrder",void 0),(0,o._)([(0,l.Cb)()],p.prototype,"tags",void 0),(0,o._)([(0,l.Cb)()],p.prototype,"thumbnail",void 0),(0,o._)([(0,l.Cb)({readOnly:!0})],p.prototype,"thumbnailUrl",null),(0,o._)([(0,l.Cb)()],p.prototype,"title",void 0),(0,o._)([(0,l.Cb)({readOnly:!0})],p.prototype,"url",null),p=(0,o._)([(0,a.j)("esri.portal.PortalGroup")],p);const d=p},67477:(e,t,r)=>{r.d(t,{Z:()=>m});var o,s=r(29768),i=r(21972),l=r(57251),n=r(76506),a=r(34250),u=(r(91306),r(17533)),p=r(21801),d=r(60947),h=r(35132);r(23639),r(92143),r(31450),r(71552),r(40642),r(60474),r(66396),r(22723),r(86656),r(91055),r(6540),r(19657),r(6906),r(50406),r(60991),r(73796),r(74673),r(97714),r(91597),r(86787),r(2906),r(89623);const c=new l.J({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let y=o=class extends i.Z{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){"asc"!==e&&"desc"!==e||this._set("sortOrder",e)}clone(){return new o({categories:this.categories?(0,n.d9)(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r,o;if(this.categories&&(r=this.categories.map((e=>Array.isArray(e)?JSON.stringify(e):e))),this.extent){const e=(0,h.iV)(this.extent,d.Z.WGS84);(0,n.i)(e)&&(o=`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`)}let s=this.query;!this.disableExtraQuery&&e.extraQuery&&(s="("+s+")"+e.extraQuery);const i={categories:r,bbox:o,q:s,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(i.sortField=this.sortField.split(",").map((e=>c.toJSON(e.trim()))).join(","),i.sortOrder=this.sortOrder),{query:{...t,...i}}}};(0,s._)([(0,a.Cb)()],y.prototype,"categories",void 0),(0,s._)([(0,a.Cb)()],y.prototype,"disableExtraQuery",void 0),(0,s._)([(0,a.Cb)({type:p.Z})],y.prototype,"extent",void 0),(0,s._)([(0,a.Cb)()],y.prototype,"filter",void 0),(0,s._)([(0,a.Cb)()],y.prototype,"num",void 0),(0,s._)([(0,a.Cb)()],y.prototype,"query",void 0),(0,s._)([(0,a.Cb)()],y.prototype,"sortField",void 0),(0,s._)([(0,a.Cb)()],y.prototype,"sortOrder",null),(0,s._)([(0,a.Cb)()],y.prototype,"start",void 0),y=o=(0,s._)([(0,u.j)("esri.portal.PortalQueryParams")],y);const m=y},78533:(e,t,r)=>{r.d(t,{Z:()=>a});var o=r(29768),s=r(21972),i=r(34250),l=(r(76506),r(91306),r(17533));r(23639),r(92143),r(31450),r(71552),r(40642),r(60474),r(66396),r(22723),r(86656),r(91055),r(6540),r(19657),r(6906),r(50406),r(60991);let n=class extends s.Z{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};(0,o._)([(0,i.Cb)()],n.prototype,"nextQueryParams",void 0),(0,o._)([(0,i.Cb)()],n.prototype,"queryParams",void 0),(0,o._)([(0,i.Cb)()],n.prototype,"results",void 0),(0,o._)([(0,i.Cb)()],n.prototype,"total",void 0),n=(0,o._)([(0,l.j)("esri.portal.PortalQueryResult")],n);const a=n},74653:(e,t,r)=>{r.r(t),r.d(t,{default:()=>h});var o,s=r(29768),i=r(60991),l=r(74673),n=r(34250),a=(r(76506),r(91306),r(17533)),u=r(91091),p=r(58943);r(92143),r(31450),r(71552),r(40642),r(21972),r(23639),r(60474),r(66396),r(22723),r(86656),r(91055),r(6540),r(19657),r(6906),r(50406),r(67477),r(57251),r(21801),r(73796),r(97714),r(60947),r(2906),r(91597),r(86787),r(35132),r(89623);let d=o=class extends l.a{constructor(...e){super(...e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.get("portal.restUrl");return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,r=e&&e.data,o=e&&e.folder,s={method:"post"};t&&(s.query=t.createPostQuery(),null!=r&&("string"==typeof r?s.query.text=r:"object"==typeof r&&(s.query.text=JSON.stringify(r))));let i=this.userContentUrl;return o&&(i+="/"+("string"==typeof o?o:o.id)),this.portal._request(i+"/addItem",s).then((e=>(t.id=e.id,t.portal=this.portal,t.loaded?t.reload():t.load())))}deleteItem(e){let t=this.userContentUrl;return e.ownerFolder&&(t+="/"+e.ownerFolder),this.portal._request(t+`/items/${e.id}/delete`,{method:"post"}).then((()=>{e.id=null,e.portal=null}))}deleteItems(e){const t=this.userContentUrl+"/deleteItems",r=e.map((e=>e.id));if(r.length){const o={method:"post",query:{items:r.join(",")}};return this.portal._request(t,o).then((()=>{e.forEach((e=>{e.id=null,e.portal=null}))}))}return Promise.resolve(void 0)}fetchFolders(){return this.portal._request(this.userContentUrl,{query:{num:1}}).then((e=>{let t;return t=e&&e.folders?e.folders.map((e=>{const t=u.Z.fromJSON(e);return t.portal=this.portal,t})):[],t}))}fetchGroups(){return this.portal._request(this.url).then((e=>{let t;return t=e&&e.groups?e.groups.map((e=>{const t=p.default.fromJSON(e);return t.portal=this.portal,t})):[],t}))}fetchItems(e){e||(e={});let t,o=this.userContentUrl;return e.folder&&(o+="/"+e.folder.id),r.e(6420).then(r.bind(r,56420)).then((({default:r})=>{t=r;const s={folders:!1,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"};return this.portal._request(o,{query:s})})).then((e=>{let r;return e&&e.items?(r=e.items.map((e=>{const r=t.fromJSON(e);return r.portal=this.portal,r})),Promise.all(r.map((e=>e.load()))).catch((e=>e)).then((()=>({items:r,nextStart:e.nextStart,total:e.total})))):{items:[],nextStart:-1,total:0}}))}fetchTags(){return this.portal._request(this.url+"/tags").then((e=>e.tags))}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new p.default({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new i.Z("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new i.Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new o;return t.sourceJSON=e,t.read(e),t}};(0,s._)([(0,n.Cb)()],d.prototype,"access",void 0),(0,s._)([(0,n.Cb)({type:Date})],d.prototype,"created",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"culture",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"description",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"email",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"favGroupId",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"fullName",void 0),(0,s._)([(0,n.Cb)({type:Date})],d.prototype,"modified",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"orgId",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"portal",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"preferredView",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"privileges",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"region",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"role",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"roleId",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"sourceJSON",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"thumbnail",void 0),(0,s._)([(0,n.Cb)({readOnly:!0})],d.prototype,"thumbnailUrl",null),(0,s._)([(0,n.Cb)()],d.prototype,"units",void 0),(0,s._)([(0,n.Cb)({readOnly:!0})],d.prototype,"userContentUrl",null),(0,s._)([(0,n.Cb)({readOnly:!0})],d.prototype,"url",null),(0,s._)([(0,n.Cb)()],d.prototype,"username",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"userType",void 0),d=o=(0,s._)([(0,a.j)("esri.portal.PortalUser")],d);const h=d}}]);