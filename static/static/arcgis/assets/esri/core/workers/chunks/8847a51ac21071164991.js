"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[6786],{76996:(e,t,s)=>{s.d(t,{E:()=>a});var i=s(29768),n=s(21972),r=s(22723),h=s(17533);class o{constructor(){this._emitter=new o.EventEmitter(this)}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}}!function(e){class t{constructor(e=null){this.target=e,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear(),this._listenersMap=null}emit(e,t){const s=this._listenersMap&&this._listenersMap.get(e);if(!s)return!1;const i=this.target||this;return[...s].forEach((e=>{e.call(i,t)})),s.length>0}on(e,t){if(Array.isArray(e)){const s=e.map((e=>this.on(e,t)));return(0,r.h)(s)}if(e.indexOf(",")>-1)throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const s=this._listenersMap.get(e)||[];return s.push(t),this._listenersMap.set(e,s),{remove:()=>{const s=this._listenersMap&&this._listenersMap.get(e)||[],i=s.indexOf(t);i>=0&&s.splice(i,1)}}}once(e,t){const s=this.on(e,(e=>{s.remove(),t.call(null,e)}));return s}hasEventListener(e){const t=this._listenersMap&&this._listenersMap.get(e);return null!=t&&t.length>0}}e.EventEmitter=t,e.EventedMixin=e=>{let s=class extends e{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};return s=(0,i._)([(0,h.j)("esri.core.Evented")],s),s};let s=class extends n.Z{constructor(){super(...arguments),this._emitter=new o.EventEmitter(this)}destroy(){this._emitter.clear()}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};s=(0,i._)([(0,h.j)("esri.core.Evented")],s),e.EventedAccessor=s}(o||(o={}));const a=o},91700:(e,t,s)=>{s.d(t,{a:()=>a,b:()=>o});var i,n,r=s(76506),h=s(6906);(n=i||(i={}))[n.ALL=0]="ALL",n[n.SOME=1]="SOME";class o{constructor(e,t,s){this._namespace=e,this._storage=t,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",s&&(this._storage.registerRemoveFunc(this._namespace,s),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(e,t,s,i=0){this._storage.put(this._namespace+e,t,s,i)}get(e){const t=this._storage.get(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}pop(e){const t=this._storage.pop(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}updateSize(e,t,s){this._storage.updateSize(this._namespace+e,t,s)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class a{constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new h.P,this._users=new h.P}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(e){this._users.push(e)}deregister(e){this._users.removeUnordered(e)}registerRemoveFunc(e,t){this._removeFuncs.push([e,t])}deregisterRemoveFunc(e){this._removeFuncs.filterInPlace((t=>t[0]!==e))}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,0),this._checkSizeLimit()}put(e,t,s,n){const r=this._db.get(e);if(r&&(this._size-=r.size,this._db.delete(e),r.entry!==t&&this._notifyRemove(e,r.entry,i.ALL)),s>this._maxSize)return void this._notifyRemove(e,t,i.ALL);if(void 0===t)return void console.warn("Refusing to cache undefined entry ");if(!s||s<0)return void console.warn("Refusing to cache entry with invalid size "+s);const h=1+Math.max(n,-3)- -3;this._db.set(e,{entry:t,size:s,lifetime:h,lives:h}),this._size+=s,this._checkSizeLimit()}updateSize(e,t,s){const n=this._db.get(e);if(n&&n.entry===t){for(this._size-=n.size;s>this._maxSize;){const n=this._notifyRemove(e,t,i.SOME);if(!((0,r.i)(n)&&n>0))return void this._db.delete(e);s=n}n.size=s,this._size+=s,this._checkSizeLimit()}}pop(e){const t=this._db.get(e);if(t)return this._size-=t.size,this._db.delete(e),++this._hit,t.entry;++this._miss}get(e){const t=this._db.get(e);if(void 0!==t)return this._db.delete(e),t.lives=t.lifetime,this._db.set(e,t),++this._hit,t.entry;++this._miss}getStats(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},t={},s=new Array;this._db.forEach(((e,i)=>{const n=e.lifetime;s[n]=(s[n]||0)+e.size,this._users.forAll((s=>{const n=s.namespace;if(i.startsWith(n)){const s=t[n]||0;t[n]=s+e.size}}))}));const i={};this._users.forAll((e=>{const s=e.namespace;if(!isNaN(e.hitRate)&&e.hitRate>0){const n=t[s]||0;t[s]=n,i[s]=Math.round(100*e.hitRate)+"%"}else i[s]="0%"}));const n=Object.keys(t);n.sort(((e,s)=>t[s]-t[e])),n.forEach((s=>e[s]=Math.round(t[s]/2**20)+"MB / "+i[s]));for(let t=s.length-1;t>=0;--t){const i=s[t];i&&(e["Priority "+(t+-3-1)]=Math.round(i/this.size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forAll((e=>e.resetHitRate()))}clear(e){this._db.forEach(((t,s)=>{s.startsWith(e)&&(this._size-=t.size,this._db.delete(s),this._notifyRemove(s,t.entry,i.ALL))}))}clearAll(){this._db.forEach(((e,t)=>this._notifyRemove(t,e.entry,i.ALL))),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(e,t,s){let i;return this._removeFuncs.some((n=>{if(e.startsWith(n[0])){const e=n[1](t,s);return"number"==typeof e&&(i=e),!0}return!1})),i}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[e,t]of this._db){if(this._db.delete(e),t.lives<=1){this._size-=t.size;const s=this._notifyRemove(e,t.entry,i.SOME);(0,r.i)(s)&&s>0&&(this._size+=s,t.lives=t.lifetime,t.size=s,this._db.set(e,t))}else--t.lives,this._db.set(e,t);if(this._size<=.9*this.maxSize)return}}}},53326:(e,t,s)=>{s.d(t,{C:()=>_,N:()=>d,a:()=>n,b:()=>l,d:()=>c,e:()=>f,g:()=>r,h:()=>g,j:()=>h,l:()=>u,x:()=>o,z:()=>a});var i=s(76506);function n(e=p){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function r(e,t,s,i,r,h,o=n()){return o[0]=e,o[1]=t,o[2]=s,o[3]=i,o[4]=r,o[5]=h,o}function h(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function o(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function a(e,t=[0,0,0]){return t[0]=function(e){return e[0]>=e[3]?0:e[3]-e[0]}(e),t[1]=function(e){return e[1]>=e[4]?0:e[4]-e[1]}(e),t[2]=function(e){return e[2]>=e[5]?0:e[5]-e[2]}(e),t}function l(e,t,s=e){return s[0]=t[0],s[1]=t[1],s[2]=t[2],s!==e&&(s[3]=e[3],s[4]=e[4],s[5]=e[5]),s}function c(e,t,s=e){return s[3]=t[0],s[4]=t[1],s[5]=t[2],s!==e&&(s[0]=e[0],s[1]=e[1],s[2]=e[2]),e}function u(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function f(e){return e?u(e,d):n(d)}function _(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function m(e){return 6===e.length}function g(e,t,s){if((0,i.b)(e)||(0,i.b)(t))return e===t;if(!m(e)||!m(t))return!1;if(s){for(let i=0;i<e.length;i++)if(!s(e[i],t[i]))return!1}else for(let s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}s(21801),s(92482);const d=[1/0,1/0,1/0,-1/0,-1/0,-1/0],p=[0,0,0,0,0,0];n()},94751:(e,t,s)=>{s.d(t,{c:()=>h,g:()=>l,o:()=>o,u:()=>a});var i=s(92896),n=s(60947),r=s(32422);const h={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new i.Z({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:n.Z.WebMercator}),minus180Line:new i.Z({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:n.Z.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new i.Z({paths:[[[180,-180],[180,180]]],spatialReference:n.Z.WGS84}),minus180Line:new i.Z({paths:[[[-180,-180],[-180,180]]],spatialReference:n.Z.WGS84})}};function o(e,t){return Math.ceil((e-t)/(2*t))}function a(e,t){const s=l(e);for(const e of s)for(const s of e)s[0]+=t;return e}function l(e){return(0,r.oU)(e)?e.rings:e.paths}},3530:(e,t,s)=>{function i(e){return(t,s)=>{t[s]=e}}s.d(t,{s:()=>i})},15324:(e,t,s)=>{s.d(t,{Z:()=>w});var i,n,r,h=s(29768),o=s(91055),a=s(76996),l=s(76506),c=s(6906),u=s(34250),f=s(91306),_=s(3530),m=s(17533),g=s(6540),d=s(21972);s(22723),s(50406),s(60991),s(92143),s(31450),s(71552),s(40642),s(60474),s(66396),s(86656),s(23639),s(19657),(r=i||(i={}))[r.ADD=1]="ADD",r[r.REMOVE=2]="REMOVE",r[r.MOVE=4]="MOVE";class p{constructor(){this._observers=[]}observe(e){return this._observers.includes(e)||this._observers.push(e),new d.O(this._observers,e)}notify(){const e=this._observers.slice();for(let t=0;t<e.length;++t){const s=e[t];s.onInvalidated(),s.onCommitted()}}}const v=new o.O(class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},void 0,(e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1})),b=()=>{};function y(e){return e?e instanceof R?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function E(e){if(e&&e.length)return e[0]}function M(e,t,s,i){const n=Math.min(e.length-s,t.length-i);let r=0;for(;r<n&&e[s+r]===t[i+r];)r++;return r}function A(e,t,s,i){t&&t.forEach(((t,n,r)=>{e.push(t),A(e,s.call(i,t,n,r),s,i)}))}const x=new Set,z=new Set,C=new Set,S=new Map;let O=0,R=n=class extends a.E.EventedAccessor{constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new p,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:O++})}static isCollection(e){return null!=e&&e instanceof n}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof n?{items:e}:e:{}}destroy(){this.removeAll()}*[Symbol.iterator](){yield*this.items}get items(){return(0,g.t)(this._observable),this._items}set items(e){this._emitBeforeChanges(i.ADD)||(this._splice(0,this.length,y(e)),this._emitAfterChanges(i.ADD))}hasEventListener(e){return"change"===e?this._chgListeners.length>0:this._emitter.hasEventListener(e)}on(e,t){if("change"===e){const e=this._chgListeners,s={removed:!1,callback:t};return e.push(s),this._notifications&&this._notifications.push({listeners:e.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=b,s.removed=!0,e.splice(e.indexOf(s),1)}}}return this._emitter.on(e,t)}once(e,t){const s=this.on(e,t);return{remove(){s.remove()}}}add(e,t){if((0,g.t)(this._observable),this._emitBeforeChanges(i.ADD))return this;const s=this.getNextIndex(null!=t?t:null);return this._splice(s,0,[e]),this._emitAfterChanges(i.ADD),this}addMany(e,t=this._items.length){if((0,g.t)(this._observable),!e||!e.length)return this;if(this._emitBeforeChanges(i.ADD))return this;const s=this.getNextIndex(t);return this._splice(s,0,y(e)),this._emitAfterChanges(i.ADD),this}at(e){if((0,g.t)(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if((0,g.t)(this._observable),!this.length||this._emitBeforeChanges(i.REMOVE))return[];const e=this._splice(0,this.length)||[];return this._emitAfterChanges(i.REMOVE),e}clone(){return(0,g.t)(this._observable),this._createNewInstance({items:this._items.map(l.d9)})}concat(...e){(0,g.t)(this._observable);const t=e.map(y);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if((0,g.t)(this._observable),!this.length||this._emitBeforeChanges(i.REMOVE))return;const s=(0,l.a)(this._splice(0,this.length)),n=s.length;for(let i=0;i<n;i++)e.call(t,s[i],i,s);this._emitAfterChanges(i.REMOVE)}every(e,t){return(0,g.t)(this._observable),this._items.every(e,t)}filter(e,t){let s;return(0,g.t)(this._observable),s=2===arguments.length?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:s})}find(e,t){return(0,g.t)(this._observable),this._items.find(e,t)}findIndex(e,t){return(0,g.t)(this._observable),this._items.findIndex(e,t)}flatten(e,t){(0,g.t)(this._observable);const s=[];return A(s,this,e,t),new n(s)}forEach(e,t){return(0,g.t)(this._observable),this._items.forEach(e,t)}getItemAt(e){return(0,g.t)(this._observable),this._items[e]}getNextIndex(e){(0,g.t)(this._observable);const t=this.length;return(e=null==e?t:e)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return(0,g.t)(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return(0,g.t)(this._observable),this._items.indexOf(e,t)}join(e=","){return(0,g.t)(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return(0,g.t)(this._observable),this._items.lastIndexOf(e,t)}map(e,t){(0,g.t)(this._observable);const s=this._items.map(e,t);return new n({items:s})}reorder(e,t=this.length-1){(0,g.t)(this._observable);const s=this.indexOf(e);if(-1!==s){if(t<0?t=0:t>=this.length&&(t=this.length-1),s!==t){if(this._emitBeforeChanges(i.MOVE))return e;this._splice(s,1),this._splice(t,0,[e]),this._emitAfterChanges(i.MOVE)}return e}}pop(){if((0,g.t)(this._observable),!this.length||this._emitBeforeChanges(i.REMOVE))return;const e=E(this._splice(this.length-1,1));return this._emitAfterChanges(i.REMOVE),e}push(...e){return(0,g.t)(this._observable),this._emitBeforeChanges(i.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(i.ADD)),this.length}reduce(e,t){(0,g.t)(this._observable);const s=this._items;return 2===arguments.length?s.reduce(e,t):s.reduce(e)}reduceRight(e,t){(0,g.t)(this._observable);const s=this._items;return 2===arguments.length?s.reduceRight(e,t):s.reduceRight(e)}remove(e){return(0,g.t)(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if((0,g.t)(this._observable),e<0||e>=this.length||this._emitBeforeChanges(i.REMOVE))return;const t=E(this._splice(e,1));return this._emitAfterChanges(i.REMOVE),t}removeMany(e){if((0,g.t)(this._observable),!e||!e.length||this._emitBeforeChanges(i.REMOVE))return[];const t=e instanceof n?e.toArray():e,s=this._items,r=[],h=t.length;for(let e=0;e<h;e++){const i=t[e],n=s.indexOf(i);if(n>-1){const i=1+M(t,s,e+1,n+1),h=this._splice(n,i);h&&h.length>0&&r.push.apply(r,h),e+=i-1}}return this._emitAfterChanges(i.REMOVE),r}reverse(){if((0,g.t)(this._observable),this._emitBeforeChanges(i.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(i.MOVE),this}shift(){if((0,g.t)(this._observable),!this.length||this._emitBeforeChanges(i.REMOVE))return;const e=E(this._splice(0,1));return this._emitAfterChanges(i.REMOVE),e}slice(e=0,t=this.length){return(0,g.t)(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return(0,g.t)(this._observable),this._items.some(e,t)}sort(e){if((0,g.t)(this._observable),!this.length||this._emitBeforeChanges(i.MOVE))return this;const t=(0,l.a)(this._splice(0,this.length));return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(i.MOVE),this}splice(e,t,...s){(0,g.t)(this._observable);const n=(t?i.REMOVE:0)|(s.length?i.ADD:0);if(this._emitBeforeChanges(n))return[];const r=this._splice(e,t,s)||[];return this._emitAfterChanges(n),r}toArray(){return(0,g.t)(this._observable),this._items.slice()}toJSON(){return(0,g.t)(this._observable),this.toArray()}toLocaleString(){return(0,g.t)(this._observable),this._items.toLocaleString()}toString(){return(0,g.t)(this._observable),this._items.toString()}unshift(...e){return(0,g.t)(this._observable),!e.length||this._emitBeforeChanges(i.ADD)||(this._splice(0,0,e),this._emitAfterChanges(i.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,s){const i=this._items,n=this.itemType;let r,h;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=(0,c.Os)((()=>this._dispatchChange()))),t){if(h=i.splice(e,t),this.hasEventListener("before-remove")){const t=v.acquire();t.target=this,t.cancellable=!0;for(let s=0,n=h.length;s<n;s++)r=h[s],t.reset(r),this.emit("before-remove",t),t.defaultPrevented&&(h.splice(s,1),i.splice(e,0,r),e+=1,s-=1,n-=1);v.release(t)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const e=v.acquire();e.target=this,e.cancellable=!1;const t=h.length;for(let s=0;s<t;s++)e.reset(h[s]),this.emit("after-remove",e);v.release(e)}}if(s&&s.length){if(n){const e=[];for(const t of s){const s=n.ensureType(t);null==s&&null!=t||e.push(s)}s=e}const t=this.hasEventListener("before-add"),r=this.hasEventListener("after-add"),h=e===this.length;if(t||r){const n=v.acquire();n.target=this,n.cancellable=!0;const o=v.acquire();o.target=this,o.cancellable=!1;for(const a of s)t?(n.reset(a),this.emit("before-add",n),n.defaultPrevented||(h?i.push(a):i.splice(e++,0,a),this._set("length",i.length),r&&(o.reset(a),this.emit("after-add",o)))):(h?i.push(a):i.splice(e++,0,a),this._set("length",i.length),o.reset(a),this.emit("after-add",o));v.release(o),v.release(n)}else{if(h)for(const e of s)i.push(e);else i.splice(e,0,...s);this._set("length",i.length)}}return(s&&s.length||h&&h.length)&&this._notifyChangeEvent(s,h),h}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const s=v.acquire();s.target=this,s.cancellable=!0,s.type=e,this.emit("before-changes",s),t=s.defaultPrevented,v.release(s)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=v.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),v.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const e=t.changes;x.clear(),z.clear(),C.clear();for(const{added:t,removed:s}of e){if(t)if(0===C.size&&0===z.size)for(const e of t)x.add(e);else for(const e of t)z.has(e)?(C.add(e),z.delete(e)):C.has(e)||x.add(e);if(s)if(0===C.size&&0===x.size)for(const e of s)z.add(e);else for(const e of s)x.has(e)?x.delete(e):(C.delete(e),z.add(e))}const s=o.A.acquire();x.forEach((e=>{s.push(e)}));const i=o.A.acquire();z.forEach((e=>{i.push(e)}));const n=this._items,r=t.items,h=o.A.acquire();if(C.forEach((e=>{r.indexOf(e)!==n.indexOf(e)&&h.push(e)})),t.listeners&&(s.length||i.length||h.length)){const e={target:this,added:s,removed:i,moved:h},n=t.listeners.length;for(let s=0;s<n;s++){const i=t.listeners[s];i.removed||i.callback.call(this,e)}}o.A.release(s),o.A.release(i),o.A.release(h)}x.clear(),z.clear(),C.clear()}};R.ofType=e=>{if(!e)return n;if(S.has(e))return S.get(e);let t=null;if("function"==typeof e)t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const s in e.typeMap){const i=e.typeMap[s].prototype.declaredClass;t?t+=` | ${i}`:t=i}let s=class extends n{};return(0,h._)([(0,_.s)({Type:e,ensureType:"function"==typeof e?(0,f.e)(e):(0,f.a)(e)})],s.prototype,"itemType",void 0),s=(0,h._)([(0,m.j)(`esri.core.Collection<${t}>`)],s),S.set(e,s),s},(0,h._)([(0,u.Cb)()],R.prototype,"length",void 0),(0,h._)([(0,u.Cb)()],R.prototype,"items",null),R=n=(0,h._)([(0,m.j)("esri.core.Collection")],R);const w=R},82933:(e,t,s)=>{s.d(t,{Z:()=>c});var i=s(29768),n=s(21972),r=s(15324),h=s(76506),o=s(34250),a=s(17533);s(23639),s(92143),s(31450),s(71552),s(40642),s(60474),s(66396),s(22723),s(86656),s(91055),s(6540),s(19657),s(6906),s(50406),s(60991),s(91306),s(76996);let l=class extends n.Z{constructor(e){super(e),this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach((t=>{e+=t.length})),e}add(e,t){if(!this._isHandle(e)&&!Array.isArray(e)&&!r.Z.isCollection(e))return this;const s=this._getOrCreateGroup(t);return Array.isArray(e)||r.Z.isCollection(e)?e.forEach((e=>this._isHandle(e)&&s.push(e))):s.push(e),this.notifyChange("size"),this}forEach(e,t){if("function"==typeof e)this._groups.forEach((t=>t.forEach(e)));else{const s=this._getGroup(e);s&&t&&s.forEach(t)}}has(e){return this._groups.has(this._ensureGroupKey(e))}remove(e){if(Array.isArray(e)||r.Z.isCollection(e))return e.forEach(this.remove,this),this;if(!this.has(e))return this;const t=this._getGroup(e);for(let e=0;e<t.length;e++)t[e].remove();return this._deleteGroup(e),this.notifyChange("size"),this}removeAll(){return this._groups.forEach((e=>{for(let t=0;t<e.length;t++)e[t].remove()})),this._groups.clear(),this.notifyChange("size"),this}_isHandle(e){return e&&!!e.remove}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const t=[];return this._groups.set(this._ensureGroupKey(e),t),t}_getGroup(e){return(0,h.a)(this._groups.get(this._ensureGroupKey(e)))}_deleteGroup(e){return this._groups.delete(this._ensureGroupKey(e))}_ensureGroupKey(e){return e||"_default_"}};(0,i._)([(0,o.Cb)({readOnly:!0})],l.prototype,"size",null),l=(0,i._)([(0,a.j)("esri.core.Handles")],l);const c=l},58085:(e,t,s)=>{s.d(t,{nn:()=>g,on:()=>c,Z_:()=>m,tX:()=>d,YP:()=>o,gx:()=>a,N1:()=>u});var i=s(50406),n=s(22723),r=s(76506),h=s(19657);function o(e,t,s={}){return l(e,t,s,f)}function a(e,t,s={}){return l(e,t,s,_)}function l(e,t,s={},i){let n=null;const o=s.once?(e,s)=>{i(e)&&((0,r.r)(n),t(e,s))}:(e,s)=>{i(e)&&t(e,s)};if(n=(0,h.a)(e,o,s.sync,s.equals),s.initial){const t=e();o(t,t)}return n}function c(e,t,s,h={}){let a=null,l=null,c=null;function u(){a&&l&&(l.remove(),null==h.onListenerRemove||h.onListenerRemove(a),a=null,l=null)}function f(e){h.once&&h.once&&(0,r.r)(c),s(e)}const _=o(e,((e,s)=>{u(),(0,i.i)(e)&&(a=e,l=(0,i.o)(e,t,f),null==h.onListenerAdd||h.onListenerAdd(e))}),{sync:h.sync,initial:!0});return c=(0,n.m)((()=>{_.remove(),u()})),c}function u(e,t){return function(e,t,s){if((0,i.Hc)(s))return Promise.reject((0,i.zE)());const h=e();if(null!=t&&t(h))return Promise.resolve(h);let o=null;function a(){o=(0,r.r)(o)}return new Promise(((r,h)=>{o=(0,n.h)([(0,i.fu)(s,(()=>{a(),h((0,i.zE)())})),l(e,(e=>{a(),r(e)}),{sync:!1,once:!0},null!=t?t:f)])}))}(e,_,t)}function f(e){return!0}function _(e){return!!e}s(60991),s(92143),s(31450),s(71552),s(40642),s(91055),s(6906),s(60474),s(66396),s(6540);const m={sync:!0},g={initial:!0},d={sync:!0,initial:!0}},95533:(e,t,s)=>{s.d(t,{aX:()=>E});var i=s(31450),n=s(60991),r=s(92143),h=s(76506),o=s(44567),a=s(92896),l=s(94751),c=s(60947),u=s(35132),f=(s(74569),s(82058)),_=s(32101),m=s(32422);async function g(e,t,s){const i="string"==typeof e?(0,_.mN)(e):e,n=t[0].spatialReference,r=(0,m.Ji)(t[0]),h={...s,query:{...i.query,f:"json",sr:n.wkid?n.wkid:JSON.stringify(n),geometries:JSON.stringify(d(t))}};return function(e,t,s){const i=(0,m.q9)(t);return e.map((e=>{const t=i.fromJSON(e);return t.spatialReference=s,t}))}((await(0,f.default)(i.path+"/simplify",h)).data,r,n)}function d(e){return{geometryType:(0,m.Ji)(e[0]),geometries:e.map((e=>e.toJSON()))}}s(71552),s(40642),s(34250),s(91306),s(60474),s(66396),s(22723),s(86656),s(17533),s(6540),s(2906),s(21801),s(73796),s(74673),s(21972),s(23639),s(91055),s(19657),s(6906),s(50406),s(97714),s(91597),s(86787),s(89623),s(98380),s(84069),s(22781),s(57251),s(88762);const p=r.L.getLogger("esri.geometry.support.normalizeUtils");function v(e){return"polyline"===e[0].type}function b(e,t,s){if(t){const t=function(e,t){if(!(e instanceof a.Z||e instanceof o.Z)){const e="straightLineDensify: the input geometry is neither polyline nor polygon";throw p.error(e),new n.Z(e)}const s=(0,l.g)(e),i=[];for(const e of s){const s=[];i.push(s),s.push([e[0][0],e[0][1]]);for(let i=0;i<e.length-1;i++){const n=e[i][0],r=e[i][1],h=e[i+1][0],o=e[i+1][1],a=Math.sqrt((h-n)*(h-n)+(o-r)*(o-r)),l=(o-r)/a,c=(h-n)/a,u=a/t;if(u>1){for(let e=1;e<=u-1;e++){const i=e*t,h=c*i+n,o=l*i+r;s.push([h,o])}const e=(a+Math.floor(u-1)*t)/2,i=c*e+n,h=l*e+r;s.push([i,h])}s.push([h,o])}}return function(e){return"polygon"===e.type}(e)?new o.Z({rings:i,spatialReference:e.spatialReference}):new a.Z({paths:i,spatialReference:e.spatialReference})}(e,1e6);e=(0,u.Sx)(t,!0)}return s&&(e=(0,l.u)(e,s)),e}function y(e,t,s){if(Array.isArray(e)){const i=e[0];if(i>t){const s=(0,l.o)(i,t);e[0]=i+s*(-2*t)}else if(i<s){const t=(0,l.o)(i,s);e[0]=i+t*(-2*s)}}else{const i=e.x;if(i>t){const s=(0,l.o)(i,t);e=e.clone().offset(s*(-2*t),0)}else if(i<s){const t=(0,l.o)(i,s);e=e.clone().offset(t*(-2*s),0)}}return e}async function E(e,t,s){var n;if(!Array.isArray(e))return E([e],t);const r=null!=(n=null==t?void 0:t.url)?n:i.Z.geometryServiceUrl;let d,p,M,A,x,z,C,S,O=0;const R=[],w=[];for(const t of e)if((0,h.b)(t))w.push(t);else if(d||(d=t.spatialReference,p=(0,c.g)(d),M=d.isWebMercator,z=M?102100:4326,A=l.c[z].maxX,x=l.c[z].minX,C=l.c[z].plus180Line,S=l.c[z].minus180Line),p)if("mesh"===t.type)w.push(t);else if("point"===t.type)w.push(y(t.clone(),A,x));else if("multipoint"===t.type){const e=t.clone();e.points=e.points.map((e=>y(e,A,x))),w.push(e)}else if("extent"===t.type){const e=t.clone()._normalize(!1,!1,p);w.push(e.rings?new o.Z(e):e)}else if(t.extent){const e=t.extent,s=(0,l.o)(e.xmin,x)*(2*A);let i=0===s?t.clone():(0,l.u)(t.clone(),s);e.offset(s,0),e.intersects(C)&&e.xmax!==A?(O=e.xmax>O?e.xmax:O,i=b(i,M),R.push(i),w.push("cut")):e.intersects(S)&&e.xmin!==x?(O=e.xmax*(2*A)>O?e.xmax*(2*A):O,i=b(i,M,360),R.push(i),w.push("cut")):w.push(i)}else w.push(t.clone());else w.push(t);let L=(0,l.o)(O,A),F=-90;const D=L,N=new a.Z;for(;L>0;){const e=360*L-180;N.addPath([[e,F],[e,-1*F]]),F*=-1,L--}if(R.length>0&&D>0){const t=await async function(e,t,s,i){const n="string"==typeof e?(0,_.mN)(e):e,r=t[0].spatialReference,h={...i,query:{...n.query,f:"json",sr:JSON.stringify(r),target:JSON.stringify({geometryType:(0,m.Ji)(t[0]),geometries:t}),cutter:JSON.stringify(s)}},o=await(0,f.default)(n.path+"/cut",h),{cutIndexes:a,geometries:l=[]}=o.data;return{cutIndexes:a,geometries:l.map((e=>{const t=(0,m.im)(e);return t.spatialReference=r,t}))}}(r,R,N,s),i=function(e,t){let s=-1;for(let i=0;i<t.cutIndexes.length;i++){const n=t.cutIndexes[i],r=t.geometries[i],h=(0,l.g)(r);for(let e=0;e<h.length;e++){const t=h[e];t.some((s=>{if(s[0]<180)return!0;{let s=0;for(let e=0;e<t.length;e++){const i=t[e][0];s=i>s?i:s}s=Number(s.toFixed(9));const i=-360*(0,l.o)(s,180);for(let s=0;s<t.length;s++){const t=r.getPoint(e,s);r.setPoint(e,s,t.clone().offset(i,0))}return!0}}))}if(n===s){if("polygon"===e[0].type)for(const t of(0,l.g)(r))e[n]=e[n].addRing(t);else if(v(e))for(const t of(0,l.g)(r))e[n]=e[n].addPath(t)}else s=n,e[n]=r}return e}(R,t),n=[],o=[];for(let t=0;t<w.length;t++){const s=w[t];if("cut"!==s)o.push(s);else{const s=i.shift(),r=e[t];(0,h.i)(r)&&"polygon"===r.type&&r.rings&&r.rings.length>1&&s.rings.length>=r.rings.length?(n.push(s),o.push("simplify")):o.push(M?(0,u.$)(s):s)}}if(!n.length)return o;const a=await g(r,n,s),c=[];for(let e=0;e<o.length;e++){const t=o[e];"simplify"!==t?c.push(t):c.push(M?(0,u.$)(a.shift()):a.shift())}return c}const I=[];for(let e=0;e<w.length;e++){const t=w[e];if("cut"!==t)I.push(t);else{const e=R.shift();I.push(!0===M?(0,u.$)(e):e)}}return Promise.resolve(I)}},1709:(e,t,s)=>{s.d(t,{Z:()=>h});var i=s(14249);function n(e){return"oid"===e.type||"esriFieldTypeOID"===e.type}function r(e){return"global-id"===e.type||"esriFieldTypeGlobalID"===e.type}s(60991),s(76506),s(92143),s(31450),s(71552),s(40642),s(60217),s(74569),s(91306),s(21801),s(34250),s(60474),s(66396),s(22723),s(86656),s(17533),s(6540),s(73796),s(74673),s(21972),s(23639),s(91055),s(19657),s(6906),s(50406),s(97714),s(60947),s(2906),s(91597),s(86787),s(35132),s(89623),s(84069),s(44567),s(98380),s(92896),s(22781),s(57251),s(32422);class h{constructor(e){if(this.fields=e,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,!e)return;const t=[];for(const h of e){const e=h&&h.name;if(e){const a=o(e);this._fieldsMap.set(e,h),this._fieldsMap.set(a,h),t.push(a),"date"===(s=h).type||"esriFieldTypeDate"===s.type?(this.dateFields.push(h),this._dateFieldsSet.add(h)):(0,i.H7)(h)&&(this._numericFieldsSet.add(h),this.numericFields.push(h)),n(h)||r(h)||(h.editable=null==h.editable||!!h.editable,h.nullable=null==h.nullable||!!h.nullable)}}var s;t.sort(),this.uid=t.join(",")}destroy(){this._fieldsMap.clear()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const e of this.fields)n(e)||r(e)||e.nullable||void 0!==(0,i.os)(e)||this._requiredFields.push(e)}return this._requiredFields}has(e){return null!=this.get(e)}get(e){return null!=e?this._fieldsMap.get(e)||this._fieldsMap.get(o(e)):void 0}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){const t=this.get(e);if(t)return t.name}}function o(e){return e.toLowerCase().trim()}}}]);