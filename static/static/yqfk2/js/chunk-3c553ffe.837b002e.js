(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c553ffe","chunk-2d0d3e74","chunk-2d0d3e74"],{"008c":function(e,t,n){"use strict";n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return F})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return E}));var i=n("a9ab");const r=(e,t,n)=>[t,n],s=(e,t,n)=>[t,n,e[2]],o=(e,t,n)=>[t,n,e[2],e[3]];function a(e){return e?{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance]:[1,1],translate:e.extent?[e.extent.xmin,e.extent.ymax]:[0,0]}:null}function l({scale:e,translate:t},n){return Math.round((n-t[0])/e[0])}function u({scale:e,translate:t},n){return Math.round((t[1]-n)/e[1])}function c(e,t,n){const i=[];let r,s,o,a;for(let c=0;c<n.length;c++){const d=n[c];c>0?(o=l(e,d[0]),a=u(e,d[1]),o===r&&a===s||(i.push(t(d,o-r,a-s)),r=o,s=a)):(r=l(e,d[0]),s=u(e,d[1]),i.push(t(d,r,s)))}return i.length>0?i:null}function d(e,t,n,i){return c(e,n?i?o:s:i?s:r,t)}function h(e,t,n,i){const a=[],l=n?i?o:s:i?s:r;for(let r=0;r<t.length;r++){const n=c(e,l,t[r]);n&&n.length>=3&&a.push(n)}return a.length?a:null}function f(e,t,n,i){const a=[],l=n?i?o:s:i?s:r;for(let r=0;r<t.length;r++){const n=c(e,l,t[r]);n&&n.length>=2&&a.push(n)}return a.length?a:null}function m({scale:e,translate:t},n){return n*e[0]+t[0]}function p({scale:e,translate:t},n){return t[1]-n*e[1]}function g(e,t,n){const i=new Array(n.length);if(!n.length)return i;const[r,s]=e.scale;let o=m(e,n[0][0]),a=p(e,n[0][1]);i[0]=t(n[0],o,a);for(let l=1;l<n.length;l++){const e=n[l];o+=e[0]*r,a-=e[1]*s,i[l]=t(e,o,a)}return i}function x(e,t,n){const i=new Array(n.length);for(let r=0;r<n.length;r++)i[r]=g(e,t,n[r]);return i}function y(e,t,n,i){return g(e,n?i?o:s:i?s:r,t)}function _(e,t,n,i){return x(e,n?i?o:s:i?s:r,t)}function b(e,t,n,i){return x(e,n?i?o:s:i?s:r,t)}function I(e,t,n,i,r){return t.xmin=l(e,n.xmin),t.ymin=u(e,n.ymin),t.xmax=l(e,n.xmax),t.ymax=u(e,n.ymax),t!==n&&(i&&(t.zmin=n.zmin,t.zmax=n.zmax),r&&(t.mmin=n.mmin,t.mmax=n.mmax)),t}function M(e,t,n,i,r){return t.points=d(e,n.points,i,r),t}function F(e,t,n,i,r){return t.x=l(e,n.x),t.y=u(e,n.y),t!==n&&(i&&(t.z=n.z),r&&(t.m=n.m)),t}function w(e,t,n,i,r){const s=h(e,n.rings,i,r);return s?(t.rings=s,t):null}function B(e,t,n,i,r){const s=f(e,n.paths,i,r);return s?(t.paths=s,t):null}function N(e,t){return e&&t?Object(i["f"])(t)?F(e,{},t,!1,!1):Object(i["h"])(t)?B(e,{},t,!1,!1):Object(i["g"])(t)?w(e,{},t,!1,!1):Object(i["e"])(t)?M(e,{},t,!1,!1):Object(i["d"])(t)?I(e,{},t,!1,!1):null:null}function j(e,t,n,i,r){return t.points=y(e,n.points,i,r),t}function O(e,t,n,i,r){return t.x=m(e,n.x),t.y=p(e,n.y),t!==n&&(i&&(t.z=n.z),r&&(t.m=n.m)),t}function v(e,t,n,i,r){return t.rings=b(e,n.rings,i,r),t}function E(e,t,n,i,r){return t.paths=_(e,n.paths,i,r),t}},"04c4":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("c120"),r=n("ce76");const s=5e4,o={minX:0,minY:0,maxX:0,maxY:0};function a(e,t,n){o.minX=t[0],o.minY=t[1],o.maxX=t[2],o.maxY=t[3],e.search(o,n)}class l{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new r["a"](9,Object(i["a"])("csp-restrictions")?e=>({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}):["[0]","[1]","[2]","[3]"]),this._loadIndex=()=>{if(this._indexInvalid){const e=new Array(this._idByBounds.size);let t=0;this._idByBounds.forEach((n,i)=>{e[t++]=i}),this._indexInvalid=!1,this._index.clear(),this._index.load(e)}else this._boundsToLoad.length&&(this._index.load(this._boundsToLoad.filter(e=>this._idByBounds.has(e))),this._boundsToLoad.length=0)}}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(e){const t=this._boundsById.get(e);this._boundsById.delete(e),t&&(this._idByBounds.delete(t),this._indexInvalid||this._index.remove(t))}forEachInBounds(e,t){this._loadIndex(),a(this._index,e,e=>t(this._idByBounds.get(e)))}get(e){return this._boundsById.get(e)}has(e){return this._boundsById.has(e)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(e,t){if(!this._indexInvalid){const t=this._boundsById.get(e);t&&(this._index.remove(t),this._idByBounds.delete(t))}this._boundsById.set(e,t),t&&(this._idByBounds.set(t,e),this._indexInvalid||(this._boundsToLoad.push(t),this._boundsToLoad.length>s&&this._loadIndex()))}}},4261:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return F})),n.d(t,"f",(function(){return j})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return w})),n.d(t,"l",(function(){return o})),n.d(t,"m",(function(){return _})),n.d(t,"n",(function(){return N})),n.d(t,"o",(function(){return g})),n.d(t,"p",(function(){return y})),n.d(t,"q",(function(){return M})),n.d(t,"r",(function(){return I})),n.d(t,"s",(function(){return b})),n.d(t,"t",(function(){return p}));var i=n("b2b2");n("3af1"),n("9180");function r(e){return e}function s(e=v){return r([e[0],e[1],e[2],e[3],e[4],e[5]])}function o(e,t,n,i,r,o,a=s()){return a[0]=e,a[1]=t,a[2]=n,a[3]=i,a[4]=r,a[5]=o,a}function a(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function l(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function u(e,t,n=0,i=t.length/3){let r=e[0],s=e[1],o=e[2],a=e[3],l=e[4],u=e[5];for(let c=0;c<i;c++)r=Math.min(r,t[n+3*c]),s=Math.min(s,t[n+3*c+1]),o=Math.min(o,t[n+3*c+2]),a=Math.max(a,t[n+3*c]),l=Math.max(l,t[n+3*c+1]),u=Math.max(u,t[n+3*c+2]);e[0]=r,e[1]=s,e[2]=o,e[3]=a,e[4]=l,e[5]=u}function c(e,t,n){const i=t.length;let r=e[0],s=e[1],o=e[2],a=e[3],l=e[4],u=e[5];if(n)for(let c=0;c<i;c++){const e=t[c];r=Math.min(r,e[0]),s=Math.min(s,e[1]),o=Math.min(o,e[2]),a=Math.max(a,e[0]),l=Math.max(l,e[1]),u=Math.max(u,e[2])}else for(let c=0;c<i;c++){const e=t[c];r=Math.min(r,e[0]),s=Math.min(s,e[1]),a=Math.max(a,e[0]),l=Math.max(l,e[1])}e[0]=r,e[1]=s,e[2]=o,e[3]=a,e[4]=l,e[5]=u}function d(e){return e[0]>=e[3]?0:e[3]-e[0]}function h(e){return e[1]>=e[4]?0:e[4]-e[1]}function f(e){return e[2]>=e[5]?0:e[5]-e[2]}function m(e,t=[0,0,0]){return t[0]=e[0]+d(e)/2,t[1]=e[1]+h(e)/2,t[2]=e[2]+f(e)/2,t}function p(e,t=[0,0,0]){return t[0]=d(e),t[1]=h(e),t[2]=f(e),t}function g(e){return Math.max(d(e),f(e),h(e))}function x(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]}function y(e,t,n=e){const i=e[0]+d(e)/2,r=e[1]+h(e)/2,s=e[2]+f(e)/2;return n[0]=i+(e[0]-i)*t,n[1]=r+(e[1]-r)*t,n[2]=s+(e[2]-s)*t,n[3]=i+(e[3]-i)*t,n[4]=r+(e[4]-r)*t,n[5]=s+(e[5]-s)*t,n}function _(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function b(e,t,n=e){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n!==e&&(n[3]=e[3],n[4]=e[4],n[5]=e[5]),n}function I(e,t,n=e){return n[3]=t[0],n[4]=t[1],n[5]=t[2],n!==e&&(n[0]=e[0],n[1]=e[1],n[2]=e[2]),e}function M(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function F(e){return e?M(e,O):s(O)}function w(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function B(e){return 6===e.length}function N(e){return 0===d(e)&&0===h(e)&&0===f(e)}function j(e,t,n){if(Object(i["j"])(e)||Object(i["j"])(t))return e===t;if(!B(e)||!B(t))return!1;if(n){for(let i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1}else for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}r([-1/0,-1/0,-1/0,1/0,1/0,1/0]);const O=r([1/0,1/0,1/0,-1/0,-1/0,-1/0]),v=r([0,0,0,0,0,0]);s()},"5f6c":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i}));"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e||"undefined"!=typeof self&&self;function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return s(e,null==t?n.path:t)}},n.exports),n.exports}function s(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}}).call(this,n("c8ba"))},6517:function(e,t,n){"use strict";var i=n("b2b2"),r=n("e92d"),s=n("ce50"),o=n("ce6d"),a=n("9180"),l=n("6655"),u=n("4261"),c=n("04c4"),d=n("9392"),h=n("8152"),f=n("d97e");const m={getObjectId:e=>e.objectId,getAttributes:e=>e.attributes,getAttribute:(e,t)=>e.attributes[t],cloneWithGeometry:(e,t)=>new d["a"](t,e.attributes,null,e.objectId),getGeometry:e=>e.geometry,getCentroid:(e,t)=>(e.centroid||(e.centroid=Object(f["a"])(new h["a"],e.geometry,t.hasZ,t.hasM)),e.centroid)};class p{constructor(e){this.geometryInfo=e,this._boundsStore=new c["a"],this._featuresById=new Map,this._markedIds=new Set,this.events=new o["a"],this.featureAdapter=m}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){if(!this.numFeatures)return null;const e=Object(a["g"])(a["a"]);return this._featuresById.forEach(t=>{const n=this._boundsStore.get(t.objectId);n&&(e[0]=Math.min(n[0],e[0]),e[1]=Math.min(n[1],e[1]),e[2]=Math.max(n[2],e[2]),e[3]=Math.max(n[3],e[3]))}),e}get storeStatistics(){let e=0;return this._featuresById.forEach(t=>{t.geometry&&t.geometry.coords&&(e+=t.geometry.coords.length)}),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}add(e){this._add(e),this._emitChanged()}addMany(e){for(const t of e)this._add(t);this._emitChanged()}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(e){const t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}removeManyById(e){this._boundsStore.invalidateIndex();for(const t of e){const e=this._featuresById.get(t);e&&this._remove(e)}this._emitChanged()}forEachBounds(e,t,n){for(const i of e){const e=this._boundsStore.get(i.objectId);e&&t(Object(u["k"])(n,e))}}getFeature(e){return this._featuresById.get(e)}has(e){return this._featuresById.has(e)}forEach(e){this._featuresById.forEach(t=>e(t))}forEachInBounds(e,t){this._boundsStore.forEachInBounds(e,e=>{t(this._featuresById.get(e))})}startMarkingUsedFeatures(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}sweep(){let e=!1;this._featuresById.forEach((t,n)=>{this._markedIds.has(n)||(e=!0,this._remove(t))}),this._markedIds.clear(),e&&this._emitChanged()}_emitChanged(){this.events.emit("changed",void 0)}_add(e){if(!e)return;const t=e.objectId;if(null==t)return void r["a"].getLogger("esri.layers.graphics.data.FeatureStore").error(new s["a"]("featurestore:invalid-feature","feature id is missing",{feature:e}));const n=this._featuresById.get(t);let o;if(this._markedIds.add(t),n?(e.displayId=n.displayId,o=this._boundsStore.get(t),this._boundsStore.delete(t)):Object(i["k"])(this.onFeatureAdd)&&this.onFeatureAdd(e),!e.geometry||!e.geometry.coords||!e.geometry.coords.length)return this._boundsStore.set(t,null),void this._featuresById.set(t,e);o=Object(l["r"])(o||Object(a["g"])(),e.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),this._boundsStore.set(t,o),this._featuresById.set(t,e)}_remove(e){return Object(i["k"])(this.onFeatureRemove)&&this.onFeatureRemove(e),this._markedIds.delete(e.objectId),this._boundsStore.delete(e.objectId),this._featuresById.delete(e.objectId),e}}t["a"]=p},7015:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return h}));var i=n("b3b6"),r=n("20351");const s={ar:[".",","],bs:[",","."],ca:[",","."],cs:[","," "],da:[",","."],de:[",","."],"de-ch":[".","’"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[","," "],fi:[","," "],fr:[","," "],"fr-ch":[","," "],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[","," "],id:[",","."],it:[",","."],"it-ch":[".","’"],ja:[".",","],ko:[".",","],lt:[","," "],lv:[","," "],mk:[",","."],nb:[","," "],nl:[",","."],pl:[","," "],pt:[",","."],"pt-pt":[","," "],ro:[",","."],ru:[","," "],sk:[","," "],sl:[",","."],sr:[",","."],sv:[","," "],th:[".",","],tr:[",","."],uk:[","," "],vi:[",","."],zh:[".",","]};function o(e){e||(e=Object(r["b"])());let t=e in s;if(!t){const n=e.split("-");n.length>1&&n[0]in s&&(e=n[0],t=!0),t||(e="en")}const[n,i,o="#,##0.###"]=s[e];return{decimal:n,group:i,pattern:o}}function a(e,t){const n=o((t={...t}).locale);t.customs=n;const i=t.pattern||n.pattern;return isNaN(e)||Math.abs(e)===1/0?null:u(e,i,t)}const l=/[#0,]*[#0](?:\.0*#*)?/;function u(e,t,n){const i=(n=n||{}).customs.group,r=n.customs.decimal,s=t.split(";"),o=s[0];if(-1!==(t=s[e<0?1:0]||"-"+o).indexOf("%"))e*=100;else if(-1!==t.indexOf("‰"))e*=1e3;else{if(-1!==t.indexOf("¤"))throw new Error("currency notation not supported");if(-1!==t.indexOf("E"))throw new Error("exponential notation not supported")}const a=l,u=o.match(a);if(!u)throw new Error("unable to find a number expression in pattern: "+t);return!1===n.fractional&&(n.places=0),t.replace(a,c(e,u[0],{decimal:r,group:i,places:n.places,round:n.round}))}function c(e,t,n){!0===(n=n||{}).places&&(n.places=0),n.places===1/0&&(n.places=6);const i=t.split("."),r="string"==typeof n.places&&n.places.indexOf(",");let s=n.places;r?s=n.places.substring(r+1):s>=0||(s=(i[1]||[]).length),n.round<0||(e=Number(e.toFixed(Number(s))));const o=String(Math.abs(e)).split("."),a=o[1]||"";if(i[1]||n.places){r&&(n.places=n.places.substring(0,r));const e=void 0!==n.places?n.places:i[1]&&i[1].lastIndexOf("0")+1;e>a.length&&(o[1]=a.padEnd(Number(e),"0")),s<a.length&&(o[1]=a.substr(0,Number(s)))}else o[1]&&o.pop();const l=i[0].replace(",","");let u=l.indexOf("0");-1!==u&&(u=l.length-u,u>o[0].length&&(o[0]=o[0].padStart(u,"0")),-1===l.indexOf("#")&&(o[0]=o[0].substr(o[0].length-u)));let c,d,h=i[0].lastIndexOf(",");if(-1!==h){c=i[0].length-h-1;const e=i[0].substr(0,h);h=e.lastIndexOf(","),-1!==h&&(d=e.length-h-1)}const f=[];for(let m=o[0];m;){const e=m.length-c;f.push(e>0?m.substr(e):m),m=e>0?m.slice(0,e):"",d&&(c=d,d=void 0)}return o[0]=f.reverse().join(n.group||","),o.join(n.decimal||".")}function d(e){const t=o((e=e||{}).locale),n=e.pattern||t.pattern,r=t.group,s=t.decimal;let a=1;if(-1!==n.indexOf("%"))a/=100;else if(-1!==n.indexOf("‰"))a/=1e3;else if(-1!==n.indexOf("¤"))throw new Error("currency notation not supported");const u=n.split(";");return 1===u.length&&u.push("-"+u[0]),{regexp:p(u,(function(t){return(t="(?:"+Object(i["a"])(t,".")+")").replace(l,(function(t){const n={signed:!1,separator:e.strict?r:[r,""],fractional:e.fractional,decimal:s,exponent:!1},i=t.split(".");let o=e.places;1===i.length&&1!==a&&(i[1]="###"),1===i.length||0===o?n.fractional=!1:(void 0===o&&(o=e.pattern?i[1].lastIndexOf("0")+1:1/0),o&&null==e.fractional&&(n.fractional=!0),!e.places&&o<i[1].length&&(o+=","+i[1].length),n.places=o);const l=i[0].split(",");return l.length>1&&(n.groupSize=l.pop().length,l.length>1&&(n.groupSize2=l.pop().length)),"("+f(n)+")"}))}),!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:r,decimal:s,factor:a}}function h(e,t){const n=d(t),i=new RegExp("^"+n.regexp+"$").exec(e);if(!i)return NaN;let r=i[1];if(!i[1]){if(!i[2])return NaN;r=i[2],n.factor*=-1}return r=r.replace(new RegExp("["+n.group+"\\s\\xa0]","g"),"").replace(n.decimal,"."),Number(r)*n.factor}function f(e){"places"in(e=e||{})||(e.places=1/0),"string"!=typeof e.decimal&&(e.decimal="."),"fractional"in e&&!/^0/.test(String(e.places))||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);const t=m(e),n=p(e.fractional,(function(t){let n="";return t&&0!==e.places&&(n="\\"+e.decimal,e.places===1/0?n="(?:"+n+"\\d+)?":n+="\\d{"+e.places+"}"),n}),!0);let i=t+n;return n&&(i="(?:(?:"+i+")|(?:"+n+"))"),i+p(e.exponent,(function(t){return t?"([eE]"+m({signed:e.eSigned})+")":""}))}function m(e){return"signed"in(e=e||{})||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="",p(e.signed,(function(e){return e?"[-+]":""}),!0)+p(e.separator,(function(t){if(!t)return"(?:\\d+)";" "===(t=Object(i["a"])(t))?t="\\s":" "===t&&(t="\\s\\xa0");const n=e.groupSize,r=e.groupSize2;if(r){const e="(?:0|[1-9]\\d{0,"+(r-1)+"}(?:["+t+"]\\d{"+r+"})*["+t+"]\\d{"+n+"})";return n-r>0?"(?:"+e+"|(?:0|[1-9]\\d{0,"+(n-1)+"}))":e}return"(?:0|[1-9]\\d{0,"+(n-1)+"}(?:["+t+"]\\d{"+n+"})*)"}),!0)}const p=function(e,t,n){if(!(e instanceof Array))return t(e);const i=[];for(let r=0;r<e.length;r++)i.push(t(e[r]));return g(i.join("|"),n)},g=function(e,t){return"("+(t?"?:":"")+e+")"}},"88d1":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return o}));var i=n("c120"),r=n("7ffa"),s=n("8246");function o(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?s["a"]:"esriGeometryPolyline"===e?s["c"]:s["b"]}}}function a(e,t){if(Object(i["a"])("csp-restrictions"))return()=>({[t]:null,...e});try{let n=`this.${t} = null;`;for(const t in e)n+=`this${t.indexOf(".")?`["${t}"]`:"."+t} = ${JSON.stringify(e[t])};`;const i=new Function(n);return()=>new i}catch(n){return()=>({[t]:null,...e})}}function l(e={}){return[{name:"New Feature",description:"",prototype:{attributes:Object(r["a"])(e)}}]}},ce76:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("b2b2"),r=n("b50f"),s=n("8a44"),o=n("4637");class a{constructor(e=9,t){this.compareMinX=d,this.compareMinY=h,this.toBBox=function(e){return e},this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&("function"==typeof t?this.toBBox=t:this._initFormat(t)),this.clear()}destroy(){this.clear(),b.prune(),I.prune(),M.prune(),F.prune()}all(e){this._all(this.data,e)}search(e,t){let n=this.data;const i=this.toBBox;if(y(e,n))for(b.clear();n;){for(let r=0,s=n.children.length;r<s;r++){const s=n.children[r],o=n.leaf?i(s):s;y(e,o)&&(n.leaf?t(s):x(e,o)?this._all(s,t):b.push(s))}n=b.pop()}}collides(e){let t=this.data;const n=this.toBBox;if(!y(e,t))return!1;for(b.clear();t;){for(let i=0,r=t.children.length;i<r;i++){const r=t.children[i],s=t.leaf?n(r):r;if(y(e,s)){if(t.leaf||x(e,s))return!0;b.push(r)}}t=b.pop()}return!1}load(e){if(!e.length)return this;if(e.length<this._minEntries){for(let t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}let t=this._build(e.slice(0,e.length),0,e.length-1,0);if(this.data.children.length)if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const e=this.data;this.data=t,t=e}this._insert(t,this.data.height-t.height-1,!0)}else this.data=t;return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=new N([]),this}remove(e){if(!e)return this;let t,n=this.data,s=null,o=0,a=!1;const l=this.toBBox(e);for(M.clear(),F.clear();n||M.length>0;){var u;if(n||(n=Object(i["d"])(M.pop()),s=M.data[M.length-1],o=null!=(u=F.pop())?u:0,a=!0),n.leaf&&(t=Object(r["e"])(n.children,e,n.children.length,n.indexHint),-1!==t))return n.children.splice(t,1),M.push(n),this._condense(M),this;a||n.leaf||!x(n,l)?s?(o++,n=s.children[o],a=!1):n=null:(M.push(n),F.push(o),o=0,s=n,n=n.children[0])}return this}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){let n=e;for(I.clear();n;){var i;if(!0===n.leaf)for(const e of n.children)t(e);else I.pushArray(n.children);n=null!=(i=I.pop())?i:null}}_build(e,t,n,i){const r=n-t+1;let s=this._maxEntries;if(r<=s){const i=new N(e.slice(t,n+1));return l(i,this.toBBox),i}i||(i=Math.ceil(Math.log(r)/Math.log(s)),s=Math.ceil(r/s**(i-1)));const o=new j([]);o.height=i;const a=Math.ceil(r/s),u=a*Math.ceil(Math.sqrt(s));_(e,t,n,u,this.compareMinX);for(let l=t;l<=n;l+=u){const t=Math.min(l+u-1,n);_(e,l,t,a,this.compareMinY);for(let n=l;n<=t;n+=a){const r=Math.min(n+a-1,t);o.children.push(this._build(e,n,r,i-1))}}return l(o,this.toBBox),o}_chooseSubtree(e,t,n,i){for(;i.push(t),!0!==t.leaf&&i.length-1!==n;){let n,i=1/0,r=1/0;for(let s=0,o=t.children.length;s<o;s++){const o=t.children[s],a=f(o),l=p(e,o)-a;l<r?(r=l,i=a<i?a:i,n=o):l===r&&a<i&&(i=a,n=o)}t=n||t.children[0]}return t}_insert(e,t,n){const i=this.toBBox,r=n?e:i(e);M.clear();const s=this._chooseSubtree(r,this.data,t,M);for(s.children.push(e),c(s,r);t>=0&&M.data[t].children.length>this._maxEntries;)this._split(M,t),t--;this._adjustParentBBoxes(r,M,t)}_split(e,t){const n=e.data[t],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);const s=this._chooseSplitIndex(n,r,i);if(!s)return void console.log("  Error: assertion failed at PooledRBush._split: no valid split index");const o=n.children.splice(s,n.children.length-s),a=n.leaf?new N(o):new j(o);a.height=n.height,l(n,this.toBBox),l(a,this.toBBox),t?e.data[t-1].children.push(a):this._splitRoot(n,a)}_splitRoot(e,t){this.data=new j([e,t]),this.data.height=e.height+1,l(this.data,this.toBBox)}_chooseSplitIndex(e,t,n){let i,r,s;i=r=1/0;for(let o=t;o<=n-t;o++){const t=u(e,0,o,this.toBBox),a=u(e,o,n,this.toBBox),l=g(t,a),c=f(t)+f(a);l<i?(i=l,s=o,r=c<r?c:r):l===i&&c<r&&(r=c,s=o)}return s}_chooseSplitAxis(e,t,n){const i=e.leaf?this.compareMinX:d,r=e.leaf?this.compareMinY:h;this._allDistMargin(e,t,n,i)<this._allDistMargin(e,t,n,r)&&e.children.sort(i)}_allDistMargin(e,t,n,i){e.children.sort(i);const r=this.toBBox,s=u(e,0,t,r),o=u(e,n-t,n,r);let a=m(s)+m(o);for(let l=t;l<n-t;l++){const t=e.children[l];c(s,e.leaf?r(t):t),a+=m(s)}for(let l=n-t-1;l>=t;l--){const t=e.children[l];c(o,e.leaf?r(t):t),a+=m(o)}return a}_adjustParentBBoxes(e,t,n){for(let i=n;i>=0;i--)c(t.data[i],e)}_condense(e){for(let t=e.length-1;t>=0;t--){const n=e.data[t];if(0===n.children.length)if(t>0){const i=e.data[t-1],s=i.children;s.splice(Object(r["e"])(s,n,s.length,i.indexHint),1)}else this.clear();else l(n,this.toBBox)}}_initFormat(e){const t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}function l(e,t){u(e,0,e.children.length,t,e)}function u(e,t,n,i,r){r||(r=new N([])),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let s,o=t;o<n;o++)s=e.children[o],c(r,e.leaf?i(s):s);return r}function c(e,t){e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY)}function d(e,t){return e.minX-t.minX}function h(e,t){return e.minY-t.minY}function f(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function m(e){return e.maxX-e.minX+(e.maxY-e.minY)}function p(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function g(e,t){const n=Math.max(e.minX,t.minX),i=Math.max(e.minY,t.minY),r=Math.min(e.maxX,t.maxX),s=Math.min(e.maxY,t.maxY);return Math.max(0,r-n)*Math.max(0,s-i)}function x(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function y(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function _(e,t,n,r,s){const a=[t,n];for(;a.length;){const t=Object(i["d"])(a.pop()),n=Object(i["d"])(a.pop());if(t-n<=r)continue;const l=n+Math.ceil((t-n)/r/2)*r;Object(o["a"])(e,l,n,t,s),a.push(n,l,l,t)}}const b=new s["a"],I=new s["a"],M=new s["a"],F=new s["a"]({deallocator:void 0});class w{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class B extends w{constructor(){super(...arguments),this.height=1,this.indexHint=new r["a"]}}class N extends B{constructor(e){super(),this.children=e,this.leaf=!0}}class j extends B{constructor(e){super(),this.children=e,this.leaf=!1}}},d77e:function(e,t,n){"use strict";n.r(t),n.d(t,"csvLatitudeFieldNames",(function(){return Y})),n.d(t,"csvLongitudeFieldNames",(function(){return X}));var i=n("c120"),r=n("ce50"),s=n("e041"),o=n("7f83"),a=n("5996"),l=n("9786"),u=(n("e06a"),n("2eab")),c=n("8188"),d=n("7015"),h=n("9392"),f=n("8152"),m=n("80b7"),p=n("d641"),g=n("88d1"),x=n("1ec3"),y=n("6517"),_=n("6411");const b=/^\s*"([\S\s]*)"\s*$/,I=/""/g,M="\n",F=[","," ",";","|","\t"];function w(e,t){const n={},i=e.length;for(let r=0;r<i;r++)n[e[r]]=t[r];return n}function*B(e,t,n){let i=0;for(;i<=e.length;){const r=e.indexOf(t,i),s=e.substring(i,r>-1?r:void 0);i+=s.length+1,n&&!s.trim()||(yield s)}}function N(e){const t=e.includes("\r\n")?"\r\n":M;return B(e,t,!0)}function j(e,t){return B(e,t,!1)}function O(e){const t=e.trim();let n=0,i="";for(const r of F){const e=t.split(r).length;e>n&&(n=e,i=r)}return""===i?null:i}function*v(e,t,n){let i="",r="",s=0,o=[];e:for(;;){const{value:a,done:l}=e.next();if(l)return;const u=j(a,n);t:for(;;){const{value:e,done:t}=u.next();if(t)break t;if(i+=r+e,r="",s+=E(e),s%2==0){if(s>0){const e=b.exec(i);if(!e){o=[],i="",s=0;continue e}o.push(e[1].replace(I,'"'))}else o.push(i);i="",s=0}else r=n}0===s?(yield w(t,o),o=[]):r=M}}function E(e){let t=0,n=0;for(n=e.indexOf('"',n);n>=0;)t++,n=e.indexOf('"',n+1);return t}const T=Object(g["c"])("esriGeometryPoint"),S=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong"],Y=["lat","latitude","latitude83","latdecdeg","lat_dd","y","ycenter","point-y"],X=["lon","lng","long","longitude","longitude83","longdecdeg","long_dd","x","xcenter","point-x"],k=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,D=["csv"],q=[0,0];class C{constructor(e,t){this.x=e,this.y=t}}const P=function(){const e=Object(d["a"])(),t=new RegExp("^"+e.regexp+"$"),n=new RegExp("["+e.group+"\\s\\xa0]","g"),i=e.factor;return function(r){const s=t.exec(r);if(e.factor=i,!s)return NaN;let o=s[1];if(!s[1]){if(!s[2])return NaN;o=s[2],e.factor*=-1}return o=o.replace(n,"").replace(e.decimal,"."),+o*e.factor}}(),L="isInteger"in Number?Number.isInteger:e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;class z{constructor(){this._fieldsIndex=null,this._queryEngine=null}destroy(){this._queryEngine&&this._queryEngine&&this._queryEngine.destroy(),this._queryEngine=null,this._fieldsIndex=null}async load(e,t={}){const[n]=await Promise.all([this._fetch(e.url,t),this._checkProjection(t&&e.parsing&&e.parsing.spatialReference)]),i=this._parse(n,e);if(this._queryEngine=this._createQueryEngine(n,i),i.layerDefinition.extent=this._queryEngine.fullExtent,i.layerDefinition.timeInfo){const{start:e,end:t}=this._queryEngine.timeExtent;i.layerDefinition.timeInfo.timeExtent=[e,t]}return i}async applyEdits(){throw new r["a"]("csv-source:editing-not-supported","applyEdits() is not supported on CSVLayer")}queryFeatures(e={},t={}){return this._queryEngine.executeQuery(e,t.signal)}queryFeatureCount(e={},t={}){return this._queryEngine.executeQueryForCount(e,t.signal)}queryObjectIds(e={},t={}){return this._queryEngine.executeQueryForIds(e,t.signal)}queryExtent(e={},t={}){return this._queryEngine.executeQueryForExtent(e,t.signal)}querySnapping(e,t={}){return this._queryEngine.executeQueryForSnapping(e,t.signal)}async _fetch(e,t){if(!e)throw new r["a"]("csv-source:invalid-source","url not defined");const n=Object(s["J"])(e);return(await Object(u["default"])(n.path,{query:n.query,responseType:"text",signal:t.signal})).data}_parse(e,t){const n=t.parsing||{},i={columnDelimiter:n.columnDelimiter,layerDefinition:null,locationInfo:{latitudeFieldName:n.latitudeField,longitudeFieldName:n.longitudeField}},o=N(e);let{value:a}=o.next();if(!a)throw new r["a"]("csv","CSV is empty",{csv:e});if(a=a.trim(),!n.columnDelimiter){const e=O(a);if(!e)throw new r["a"]("csv-source:invalid-delimiter","Unable to detect the delimiter from CSV");i.columnDelimiter=e}const l=a.split(i.columnDelimiter),u=i.layerDefinition={name:Object(s["k"])(t.url,D)||"csv",drawingInfo:T,geometryType:"esriGeometryPoint",objectIdField:null,fields:[],timeInfo:n.timeInfo,extent:{xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,ymax:Number.NEGATIVE_INFINITY,spatialReference:n.spatialReference||{wkid:102100}}};if(!n.latitudeField||!n.longitudeField){const e=this._inferLocationInfo(l);if(!n.longitudeField&&!e.longitudeFieldName||!n.latitudeField&&!e.latitudeFieldName)throw new r["a"]("csv","Unable to identify latitudeField and/or longitudeField from CSV");i.locationInfo={longitudeFieldName:n.longitudeField||e.longitudeFieldName,latitudeFieldName:n.latitudeField||e.latitudeFieldName}}const c=this._inferFields(o,i.columnDelimiter,l,i.locationInfo);if(n.fields&&n.fields.length){const e=new Map;for(const t of n.fields)e.set(t.name.toLowerCase(),t);for(const t of c){const n=e.get(t.name.toLowerCase());if(n){const e=t.name;Object.assign(t,n),t.name=e}}}if(u.fields=c,!u.fields.some(e=>"esriFieldTypeOID"===e.type&&(u.objectIdField=e.name,!0))){const e={name:"__OBJECTID",alias:"__OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1};u.objectIdField=e.name,u.fields.unshift(e)}if(this._fieldsIndex=new m["a"](u.fields),u.timeInfo){const e=u.timeInfo;if(e.startTimeField){const t=this._fieldsIndex.get(e.startTimeField);t?(e.startTimeField=t.name,t.type="esriFieldTypeDate"):e.startTimeField=null}if(e.endTimeField){const t=this._fieldsIndex.get(e.endTimeField);t?(e.endTimeField=t.name,t.type="esriFieldTypeDate"):e.endTimeField=null}if(e.trackIdField){const t=this._fieldsIndex.get(e.trackIdField);e.trackIdField=t?t.name:null}e.startTimeField||e.endTimeField||(u.timeInfo=null)}return i}_inferLocationInfo(e){let t=null,n=null;const i=t=>e.find(e=>e.toLowerCase()===t);return X.some(e=>(t=i(e),!!t)),Y.some(e=>(n=i(e),!!n)),{longitudeFieldName:t,latitudeFieldName:n}}_inferFields(e,t,n,i){const r=[],s=v(e,n,t),o=[];e:for(;o.length<10;){const{value:e,done:t}=s.next();if(t)break e;o.push(e)}for(const a of n)if(a===i.longitudeFieldName||a===i.latitudeFieldName)r.push({name:a,type:"esriFieldTypeDouble",alias:a});else{const e=o.map(e=>e[a]),t=this._inferFieldType(e),n={name:a,type:null,alias:a};switch(t){case"integer":n.type="esriFieldTypeInteger";break;case"double":n.type="esriFieldTypeDouble";break;case"date":n.type="esriFieldTypeDate",n.length=36;break;default:n.type="esriFieldTypeString",n.length=255}r.push(n)}return r}_inferFieldType(e){if(!e.length)return"string";const t=/[^+-.,0-9]/;return e.map(e=>{let n=!1;if(""!==e){if(t.test(e))n=!0;else{let t=P(e);if(!isNaN(t))return/[.,]/.test(e)||!L(t)||t>214783647||t<-214783648?"double":"integer";if(-1===e.indexOf("E"))n=!0;else{if(t=Number(e),!isNaN(t))return"double";if(-1===e.indexOf(","))n=!0;else{if(e=e.replace(",","."),t=Number(e),!isNaN(t))return"double";n=!0}}}if(n){if(!/^[-]?\d*[.,]?\d*$/.test(e)){const t=new Date(e);return this._isValidDate(t,e)?"date":"string"}return"string"}return"string"}}).reduce((e,t)=>void 0===e||e===t?t:"string"===e||"string"===t?"string":"double"===e||"double"===t?"double":void 0)}_isValidDate(e,t){if(!e||"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))return!1;let n=!0;if(Object(i["a"])("chrome")&&/\d+\W*$/.test(t)){const e=t.match(/[a-zA-Z]{2,}/);if(e){let t=!1,i=0;for(;!t&&i<=e.length;)t=!k.test(e[i]),i++;n=!t}}return n}_createQueryEngine(e,t){const{latitudeFieldName:n,longitudeFieldName:i}=t.locationInfo,{objectIdField:r,fields:s,extent:u,timeInfo:d}=t.layerDefinition;let m=[];const g=[],x=new Set,b=new Set,I=[];for(const{name:o,type:a}of s)"esriFieldTypeDate"===a?x.add(o):S.indexOf(a)>-1&&b.add(o),o!==r&&I.push(o);let M=0;const F=N(e);F.next();const w=v(F,I,t.columnDelimiter);e:for(;;){const{value:e,done:t}=w.next();if(t)break e;const s=this._parseCoordinateValue(e[n]),o=this._parseCoordinateValue(e[i]);if(null!=o&&null!=s&&!isNaN(s)&&!isNaN(o)){e[n]=s,e[i]=o;for(const t in e)if(t!==n&&t!==i)if(x.has(t)){const n=new Date(e[t]);e[t]=this._isValidDate(n,e[t])?n.getTime():null}else if(b.has(t)){const n=P(e[t]);isNaN(n)?e[t]=null:e[t]=n}e[r]=M,M++,m.push(new C(o,s)),g.push(e)}}if(!Object(o["c"])({wkid:4326},u.spatialReference))if(Object(o["m"])(u.spatialReference))for(const o of m)[o.x,o.y]=Object(l["c"])(o.x,o.y,q);else m=Object(c["k"])(p["a"],m,a["a"].WGS84,u.spatialReference,null);const B=new y["a"]({geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1}),j=new _["a"]({fields:t.layerDefinition.fields,geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1,timeInfo:d,objectIdField:r,spatialReference:u.spatialReference||{wkid:4326},cacheSpatialQueries:!0,featureStore:B}),O=[];for(let o=0;o<m.length;o++){const{x:e,y:t}=m[o],n=g[o];n[r]=o+1,O.push(new h["a"](new f["a"]([],[e,t]),n,null,n[r]))}return B.addMany(O),j}_parseCoordinateValue(e){if(null==e||""===e)return null;let t=P(e);return(isNaN(t)||Math.abs(t)>181)&&(t=parseFloat(e)),t}async _checkProjection(e){try{await Object(x["a"])(o["a"],e)}catch{throw new r["a"]("csv-layer","Projection not supported")}}}t["default"]=z}}]);