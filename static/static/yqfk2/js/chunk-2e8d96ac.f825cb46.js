(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e8d96ac","chunk-2d0d3e74","chunk-2d0d3e74"],{"008c":function(t,e,n){"use strict";n.d(e,"a",(function(){return B})),n.d(e,"b",(function(){return M})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return F})),n.d(e,"e",(function(){return E})),n.d(e,"f",(function(){return T})),n.d(e,"g",(function(){return v}));var i=n("a9ab");const r=(t,e,n)=>[e,n],s=(t,e,n)=>[e,n,t[2]],o=(t,e,n)=>[e,n,t[2],t[3]];function a(t){return t?{originPosition:"upper-left"===t.originPosition?"upperLeft":"lower-left"===t.originPosition?"lowerLeft":t.originPosition,scale:t.tolerance?[t.tolerance,t.tolerance]:[1,1],translate:t.extent?[t.extent.xmin,t.extent.ymax]:[0,0]}:null}function u({scale:t,translate:e},n){return Math.round((n-e[0])/t[0])}function c({scale:t,translate:e},n){return Math.round((e[1]-n)/t[1])}function l(t,e,n){const i=[];let r,s,o,a;for(let l=0;l<n.length;l++){const d=n[l];l>0?(o=u(t,d[0]),a=c(t,d[1]),o===r&&a===s||(i.push(e(d,o-r,a-s)),r=o,s=a)):(r=u(t,d[0]),s=c(t,d[1]),i.push(e(d,r,s)))}return i.length>0?i:null}function d(t,e,n,i){return l(t,n?i?o:s:i?s:r,e)}function h(t,e,n,i){const a=[],u=n?i?o:s:i?s:r;for(let r=0;r<e.length;r++){const n=l(t,u,e[r]);n&&n.length>=3&&a.push(n)}return a.length?a:null}function f(t,e,n,i){const a=[],u=n?i?o:s:i?s:r;for(let r=0;r<e.length;r++){const n=l(t,u,e[r]);n&&n.length>=2&&a.push(n)}return a.length?a:null}function m({scale:t,translate:e},n){return n*t[0]+e[0]}function p({scale:t,translate:e},n){return e[1]-n*t[1]}function y(t,e,n){const i=new Array(n.length);if(!n.length)return i;const[r,s]=t.scale;let o=m(t,n[0][0]),a=p(t,n[0][1]);i[0]=e(n[0],o,a);for(let u=1;u<n.length;u++){const t=n[u];o+=t[0]*r,a-=t[1]*s,i[u]=e(t,o,a)}return i}function g(t,e,n){const i=new Array(n.length);for(let r=0;r<n.length;r++)i[r]=y(t,e,n[r]);return i}function b(t,e,n,i){return y(t,n?i?o:s:i?s:r,e)}function _(t,e,n,i){return g(t,n?i?o:s:i?s:r,e)}function x(t,e,n,i){return g(t,n?i?o:s:i?s:r,e)}function I(t,e,n,i,r){return e.xmin=u(t,n.xmin),e.ymin=c(t,n.ymin),e.xmax=u(t,n.xmax),e.ymax=c(t,n.ymax),e!==n&&(i&&(e.zmin=n.zmin,e.zmax=n.zmax),r&&(e.mmin=n.mmin,e.mmax=n.mmax)),e}function j(t,e,n,i,r){return e.points=d(t,n.points,i,r),e}function M(t,e,n,i,r){return e.x=u(t,n.x),e.y=c(t,n.y),e!==n&&(i&&(e.z=n.z),r&&(e.m=n.m)),e}function w(t,e,n,i,r){const s=h(t,n.rings,i,r);return s?(e.rings=s,e):null}function O(t,e,n,i,r){const s=f(t,n.paths,i,r);return s?(e.paths=s,e):null}function B(t,e){return t&&e?Object(i["f"])(e)?M(t,{},e,!1,!1):Object(i["h"])(e)?O(t,{},e,!1,!1):Object(i["g"])(e)?w(t,{},e,!1,!1):Object(i["e"])(e)?j(t,{},e,!1,!1):Object(i["d"])(e)?I(t,{},e,!1,!1):null:null}function F(t,e,n,i,r){return e.points=b(t,n.points,i,r),e}function E(t,e,n,i,r){return e.x=m(t,n.x),e.y=p(t,n.y),e!==n&&(i&&(e.z=n.z),r&&(e.m=n.m)),e}function T(t,e,n,i,r){return e.rings=x(t,n.rings,i,r),e}function v(t,e,n,i,r){return e.paths=_(t,n.paths,i,r),e}},"04c4":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n("c120"),r=n("ce76");const s=5e4,o={minX:0,minY:0,maxX:0,maxY:0};function a(t,e,n){o.minX=e[0],o.minY=e[1],o.maxX=e[2],o.maxY=e[3],t.search(o,n)}class u{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new r["a"](9,Object(i["a"])("csp-restrictions")?t=>({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}):["[0]","[1]","[2]","[3]"]),this._loadIndex=()=>{if(this._indexInvalid){const t=new Array(this._idByBounds.size);let e=0;this._idByBounds.forEach((n,i)=>{t[e++]=i}),this._indexInvalid=!1,this._index.clear(),this._index.load(t)}else this._boundsToLoad.length&&(this._index.load(this._boundsToLoad.filter(t=>this._idByBounds.has(t))),this._boundsToLoad.length=0)}}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(t){const e=this._boundsById.get(t);this._boundsById.delete(t),e&&(this._idByBounds.delete(e),this._indexInvalid||this._index.remove(e))}forEachInBounds(t,e){this._loadIndex(),a(this._index,t,t=>e(this._idByBounds.get(t)))}get(t){return this._boundsById.get(t)}has(t){return this._boundsById.has(t)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(t,e){if(!this._indexInvalid){const e=this._boundsById.get(t);e&&(this._index.remove(e),this._idByBounds.delete(e))}this._boundsById.set(t,e),e&&(this._idByBounds.set(e,t),this._indexInvalid||(this._boundsToLoad.push(e),this._boundsToLoad.length>s&&this._loadIndex()))}}},"054a":function(t,e,n){"use strict";n.r(e);var i=n("ce50"),r=n("7f83"),s=n("a9ab"),o=n("c1da"),a=n("2eab"),u=n("6781"),c=n("6655"),l=n("80b7"),d=n("e3a3"),h=n("88d1"),f=n("1ec3"),m=n("6517"),p=n("6411"),y=n("21ca");const g={hasAttachments:!1,capabilities:"query, editing, create, delete, update",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsStatistics:!0,supportsPercentileStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!1,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0}};class b{constructor(){this._queryEngine=null}destroy(){this._queryEngine&&this._queryEngine&&this._queryEngine.destroy(),this._queryEngine=this._requiredFields=this._fieldsIndex=this._createDefaultAttributes=null}async load(t){const e=[];await this._checkProjection(t.spatialReference);let n=null;t.url&&(n=(await Object(a["default"])(t.url,{responseType:"json"})).data,await Object(d["c"])(n));const s=Object(d["b"])(n,{geometryType:t.geometryType}),y=t.fields||s.fields||[],b=null!=t.hasZ?t.hasZ:s.hasZ,_=s.geometryType,x=t.objectIdField||("number"===s.objectIdFieldType?s.objectIdFieldName:"OBJECTID")||"OBJECTID",I=t.spatialReference||r["a"];let j=t.timeInfo;if(!_)throw new i["a"]("geojson-layer:missing-property","geometryType not set and couldn't be inferred from the provided features");if("string"===s.objectIdFieldType&&e.push({name:"geojson-layer:unsupported-id-type",message:"Feature ids are of type string and can't be honored."}),y===s.fields&&s.unknownFields.length>0&&e.push({name:"geojson-layer:unknown-field-types",message:"Some fields types couldn't be inferred from the features and were dropped",details:{unknownFields:s.unknownFields}}),x){let t=null;y.some(e=>e.name===x&&(t=e,!0))?(t.type="esriFieldTypeOID",t.editable=!1,t.nullable=!1):y.unshift({alias:x,name:x,type:"esriFieldTypeOID",editable:!1,nullable:!1})}for(const r of y){if(null==r.name&&(r.name=r.alias),null==r.alias&&(r.alias=r.name),!r.name)throw new i["a"]("geojson-layer:invalid-field-name","field name is missing",{field:r});if(r.name===x&&(r.type="esriFieldTypeOID"),-1===u["a"].jsonValues.indexOf(r.type))throw new i["a"]("geojson-layer:invalid-field-type",`invalid type for field "${r.name}"`,{field:r})}const M={};this._requiredFields=[];for(const i of y)if("esriFieldTypeOID"!==i.type&&"esriFieldTypeGlobalID"!==i.type){i.editable=null==i.editable||!!i.editable,i.nullable=null==i.nullable||!!i.nullable;const t=Object(o["o"])(i);i.nullable||void 0!==t?M[i.name]=t:this._requiredFields.push(i)}if(this._fieldsIndex=new l["a"](y),j){if(j.startTimeField){const t=this._fieldsIndex.get(j.startTimeField);t?(j.startTimeField=t.name,t.type="esriFieldTypeDate"):j.startTimeField=null}if(j.endTimeField){const t=this._fieldsIndex.get(j.endTimeField);t?(j.endTimeField=t.name,t.type="esriFieldTypeDate"):j.endTimeField=null}if(j.trackIdField){const t=this._fieldsIndex.get(j.trackIdField);t?j.trackIdField=t.name:(j.trackIdField=null,e.push({name:"geojson-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:j}}))}j.startTimeField||j.endTimeField||(e.push({name:"geojson-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing",details:{timeInfo:j}}),j=null)}const w={warnings:e,featureErrors:[],layerDefinition:{...g,drawingInfo:Object(h["c"])(_),templates:Object(h["b"])(M),extent:null,geometryType:_,objectIdField:x,fields:y,hasZ:!!b,timeInfo:j}};this._queryEngine=new p["a"]({fields:y,geometryType:_,hasM:!1,hasZ:b,objectIdField:x,spatialReference:I,timeInfo:j,featureStore:new m["a"]({geometryType:_,hasM:!1,hasZ:b}),cacheSpatialQueries:!0}),this._createDefaultAttributes=Object(h["a"])(M,x),this._nextObjectId=s.maxObjectId+1;const O=Object(d["a"])(n,{geometryType:_,hasZ:b,objectIdFieldName:"number"===s.objectIdFieldType?x:null});if(!Object(r["c"])(I,r["a"]))for(const i of O)i.geometry&&(i.geometry=Object(c["d"])(Object(f["b"])(Object(c["k"])(i.geometry,_,b,!1),r["a"],I)));return this._loadInitialFeatures(w,O),w}async applyEdits(t){const{spatialReference:e,geometryType:n}=this._queryEngine;return await Promise.all([Object(y["c"])(e,n),Object(f["a"])(t.adds,e),Object(f["a"])(t.updates,e)]),this._applyEdits(t)}queryFeatures(t={},e={}){return this._queryEngine.executeQuery(t,e.signal)}queryFeatureCount(t={},e={}){return this._queryEngine.executeQueryForCount(t,e.signal)}queryObjectIds(t={},e={}){return this._queryEngine.executeQueryForIds(t,e.signal)}queryExtent(t={},e={}){return this._queryEngine.executeQueryForExtent(t,e.signal)}querySnapping(t,e={}){return this._queryEngine.executeQueryForSnapping(t,e.signal)}_loadInitialFeatures(t,e){const{featureStore:n,objectIdField:i}=this._queryEngine,r=[];for(const s of e){const e=this._createDefaultAttributes(),n=Object(y["d"])(this._fieldsIndex,this._requiredFields,e,s.attributes,!0,t.warnings);n?t.featureErrors.push(n):(this._assignObjectId(e,s.attributes,!0),s.attributes=e,s.objectId=e[i],r.push(s))}if(n.addMany(r),t.layerDefinition.extent=this._queryEngine.fullExtent,t.layerDefinition.timeInfo){const{start:e,end:n}=this._queryEngine.timeExtent;t.layerDefinition.timeInfo.timeExtent=[e,n]}return t}_applyEdits(t){const{adds:e,updates:n,deletes:i}=t,r={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}};if(e&&e.length&&this._applyAddEdits(r,e),n&&n.length&&this._applyUpdateEdits(r,n),i&&i.length){for(const t of i)r.deleteResults.push(Object(y["b"])(t));this._queryEngine.featureStore.removeManyById(i)}return{fullExtent:this._queryEngine.fullExtent,timeExtent:this._queryEngine.timeExtent,featureEditResults:r}}_applyAddEdits(t,e){const{addResults:n}=t,{geometryType:i,hasM:r,hasZ:o,objectIdField:a,spatialReference:u,featureStore:l}=this._queryEngine,d=[];for(const c of e){if(c.geometry&&i!==Object(s["c"])(c.geometry)){n.push(Object(y["a"])("Incorrect geometry type."));continue}const e=this._createDefaultAttributes(),r=Object(y["d"])(this._fieldsIndex,this._requiredFields,e,c.attributes);if(r)n.push(r);else{if(this._assignObjectId(e,c.attributes),c.attributes=e,null!=c.uid){const e=c.attributes[a];t.uidToObjectId[c.uid]=e}c.geometry&&(c.geometry=Object(f["b"])(Object(y["e"])(c.geometry,u),c.geometry.spatialReference,u)),d.push(c),n.push(Object(y["b"])(c.attributes[a]))}}l.addMany(Object(c["c"])([],d,i,o,r,a))}_applyUpdateEdits({updateResults:t},e){const{geometryType:n,hasM:i,hasZ:r,objectIdField:o,spatialReference:a,featureStore:u}=this._queryEngine;for(const l of e){const{attributes:e,geometry:d}=l,h=e&&e[o];if(null==h){t.push(Object(y["a"])(`Identifier field ${o} missing`));continue}if(!u.has(h)){t.push(Object(y["a"])(`Feature with object id ${h} missing`));continue}const m=Object(c["i"])(u.getFeature(h),n,r,i);if(d){if(n!==Object(s["c"])(d)){t.push(Object(y["a"])("Incorrect geometry type."));continue}m.geometry=Object(f["b"])(Object(y["e"])(d,a),d.spatialReference,a)}if(e){const n=Object(y["d"])(this._fieldsIndex,this._requiredFields,m.attributes,e);if(n){t.push(n);continue}}u.add(Object(c["a"])(m,n,r,i,o)),t.push(Object(y["b"])(h))}}_assignObjectId(t,e,n=!1){const i=this._queryEngine.objectIdField;n&&isFinite(e[i])?t[i]=e[i]:t[i]=this._nextObjectId++}async _checkProjection(t){try{await Object(f["a"])(r["a"],t)}catch{throw new i["a"]("geojson-layer","Projection not supported")}}}e["default"]=b},"21ca":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return m}));var i=n("7f83"),r=n("c1da");class s{constructor(){this.code=null,this.description=null}}class o{constructor(t){this.error=new s,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=t}}function a(t){return new o(t)}class u{constructor(t){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=t}}function c(t){return new u(t)}const l=new Set;function d(t,e,n,i,s=!1,o){l.clear();for(const u in i){const e=t.get(u);if(!e)continue;const c=i[u],d=h(e,c);if(d!==c&&o&&o.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",details:{field:e,originalValue:c,sanitizedValue:d}}),l.add(e.name),e&&(s||e.editable)){const t=Object(r["v"])(e,d);if(t)return a(Object(r["w"])(t,e,d));n[e.name]=d}}for(const r of e)if(!l.has(r.name))return a(`missing required field "${r.name}"`);return null}function h(t,e){let n=e;return"string"==typeof e&&Object(r["r"])(t)?n=parseFloat(e):null!=e&&Object(r["s"])(t)&&"string"!=typeof e&&(n=String(e)),Object(r["t"])(n)}let f;function m(t,e){if(!t||!Object(i["i"])(e))return t;if("rings"in t||"paths"in t){if(!f)throw new TypeError("geometry engine not loaded");return f.simplify(e,t)}return t}async function p(){return f||(f=await Promise.all([n.e("chunk-2d22cf8c"),n.e("chunk-180660b2")]).then(n.bind(null,"00ac")),f)}async function y(t,e){!Object(i["i"])(t)||"esriGeometryPolygon"!==e&&"esriGeometryPolyline"!==e||await p()}},4261:function(t,e,n){"use strict";n.d(e,"a",(function(){return E})),n.d(e,"b",(function(){return m})),n.d(e,"c",(function(){return g})),n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return M})),n.d(e,"f",(function(){return F})),n.d(e,"g",(function(){return a})),n.d(e,"h",(function(){return c})),n.d(e,"i",(function(){return l})),n.d(e,"j",(function(){return u})),n.d(e,"k",(function(){return w})),n.d(e,"l",(function(){return o})),n.d(e,"m",(function(){return _})),n.d(e,"n",(function(){return B})),n.d(e,"o",(function(){return y})),n.d(e,"p",(function(){return b})),n.d(e,"q",(function(){return j})),n.d(e,"r",(function(){return I})),n.d(e,"s",(function(){return x})),n.d(e,"t",(function(){return p}));var i=n("b2b2");n("3af1"),n("9180");function r(t){return t}function s(t=T){return r([t[0],t[1],t[2],t[3],t[4],t[5]])}function o(t,e,n,i,r,o,a=s()){return a[0]=t,a[1]=e,a[2]=n,a[3]=i,a[4]=r,a[5]=o,a}function a(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[3]),t[4]=Math.max(t[4],e[4]),t[5]=Math.max(t[5],e[5])}function u(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[0]),t[4]=Math.max(t[4],e[1]),t[5]=Math.max(t[5],e[2])}function c(t,e,n=0,i=e.length/3){let r=t[0],s=t[1],o=t[2],a=t[3],u=t[4],c=t[5];for(let l=0;l<i;l++)r=Math.min(r,e[n+3*l]),s=Math.min(s,e[n+3*l+1]),o=Math.min(o,e[n+3*l+2]),a=Math.max(a,e[n+3*l]),u=Math.max(u,e[n+3*l+1]),c=Math.max(c,e[n+3*l+2]);t[0]=r,t[1]=s,t[2]=o,t[3]=a,t[4]=u,t[5]=c}function l(t,e,n){const i=e.length;let r=t[0],s=t[1],o=t[2],a=t[3],u=t[4],c=t[5];if(n)for(let l=0;l<i;l++){const t=e[l];r=Math.min(r,t[0]),s=Math.min(s,t[1]),o=Math.min(o,t[2]),a=Math.max(a,t[0]),u=Math.max(u,t[1]),c=Math.max(c,t[2])}else for(let l=0;l<i;l++){const t=e[l];r=Math.min(r,t[0]),s=Math.min(s,t[1]),a=Math.max(a,t[0]),u=Math.max(u,t[1])}t[0]=r,t[1]=s,t[2]=o,t[3]=a,t[4]=u,t[5]=c}function d(t){return t[0]>=t[3]?0:t[3]-t[0]}function h(t){return t[1]>=t[4]?0:t[4]-t[1]}function f(t){return t[2]>=t[5]?0:t[5]-t[2]}function m(t,e=[0,0,0]){return e[0]=t[0]+d(t)/2,e[1]=t[1]+h(t)/2,e[2]=t[2]+f(t)/2,e}function p(t,e=[0,0,0]){return e[0]=d(t),e[1]=h(t),e[2]=f(t),e}function y(t){return Math.max(d(t),f(t),h(t))}function g(t,e){return e[0]>=t[0]&&e[1]>=t[1]&&e[2]>=t[2]&&e[0]<=t[3]&&e[1]<=t[4]&&e[2]<=t[5]}function b(t,e,n=t){const i=t[0]+d(t)/2,r=t[1]+h(t)/2,s=t[2]+f(t)/2;return n[0]=i+(t[0]-i)*e,n[1]=r+(t[1]-r)*e,n[2]=s+(t[2]-s)*e,n[3]=i+(t[3]-i)*e,n[4]=r+(t[4]-r)*e,n[5]=s+(t[5]-s)*e,n}function _(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function x(t,e,n=t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n!==t&&(n[3]=t[3],n[4]=t[4],n[5]=t[5]),n}function I(t,e,n=t){return n[3]=e[0],n[4]=e[1],n[5]=e[2],n!==t&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),t}function j(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function M(t){return t?j(t,E):s(E)}function w(t,e){return t[0]=e[0],t[1]=e[1],t[2]=Number.NEGATIVE_INFINITY,t[3]=e[2],t[4]=e[3],t[5]=Number.POSITIVE_INFINITY,t}function O(t){return 6===t.length}function B(t){return 0===d(t)&&0===h(t)&&0===f(t)}function F(t,e,n){if(Object(i["j"])(t)||Object(i["j"])(e))return t===e;if(!O(t)||!O(e))return!1;if(n){for(let i=0;i<t.length;i++)if(!n(t[i],e[i]))return!1}else for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}r([-1/0,-1/0,-1/0,1/0,1/0,1/0]);const E=r([1/0,1/0,1/0,-1/0,-1/0,-1/0]),T=r([0,0,0,0,0,0]);s()},"5f6c":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i}));"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t||"undefined"!=typeof self&&self;function i(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function r(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return s(t,null==e?n.path:e)}},n.exports),n.exports}function s(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}}).call(this,n("c8ba"))},6517:function(t,e,n){"use strict";var i=n("b2b2"),r=n("e92d"),s=n("ce50"),o=n("ce6d"),a=n("9180"),u=n("6655"),c=n("4261"),l=n("04c4"),d=n("9392"),h=n("8152"),f=n("d97e");const m={getObjectId:t=>t.objectId,getAttributes:t=>t.attributes,getAttribute:(t,e)=>t.attributes[e],cloneWithGeometry:(t,e)=>new d["a"](e,t.attributes,null,t.objectId),getGeometry:t=>t.geometry,getCentroid:(t,e)=>(t.centroid||(t.centroid=Object(f["a"])(new h["a"],t.geometry,e.hasZ,e.hasM)),t.centroid)};class p{constructor(t){this.geometryInfo=t,this._boundsStore=new l["a"],this._featuresById=new Map,this._markedIds=new Set,this.events=new o["a"],this.featureAdapter=m}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){if(!this.numFeatures)return null;const t=Object(a["g"])(a["a"]);return this._featuresById.forEach(e=>{const n=this._boundsStore.get(e.objectId);n&&(t[0]=Math.min(n[0],t[0]),t[1]=Math.min(n[1],t[1]),t[2]=Math.max(n[2],t[2]),t[3]=Math.max(n[3],t[3]))}),t}get storeStatistics(){let t=0;return this._featuresById.forEach(e=>{e.geometry&&e.geometry.coords&&(t+=e.geometry.coords.length)}),{featureCount:this._featuresById.size,vertexCount:t/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}add(t){this._add(t),this._emitChanged()}addMany(t){for(const e of t)this._add(e);this._emitChanged()}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(t){const e=this._featuresById.get(t);return e?(this._remove(e),this._emitChanged(),e):null}removeManyById(t){this._boundsStore.invalidateIndex();for(const e of t){const t=this._featuresById.get(e);t&&this._remove(t)}this._emitChanged()}forEachBounds(t,e,n){for(const i of t){const t=this._boundsStore.get(i.objectId);t&&e(Object(c["k"])(n,t))}}getFeature(t){return this._featuresById.get(t)}has(t){return this._featuresById.has(t)}forEach(t){this._featuresById.forEach(e=>t(e))}forEachInBounds(t,e){this._boundsStore.forEachInBounds(t,t=>{e(this._featuresById.get(t))})}startMarkingUsedFeatures(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}sweep(){let t=!1;this._featuresById.forEach((e,n)=>{this._markedIds.has(n)||(t=!0,this._remove(e))}),this._markedIds.clear(),t&&this._emitChanged()}_emitChanged(){this.events.emit("changed",void 0)}_add(t){if(!t)return;const e=t.objectId;if(null==e)return void r["a"].getLogger("esri.layers.graphics.data.FeatureStore").error(new s["a"]("featurestore:invalid-feature","feature id is missing",{feature:t}));const n=this._featuresById.get(e);let o;if(this._markedIds.add(e),n?(t.displayId=n.displayId,o=this._boundsStore.get(e),this._boundsStore.delete(e)):Object(i["k"])(this.onFeatureAdd)&&this.onFeatureAdd(t),!t.geometry||!t.geometry.coords||!t.geometry.coords.length)return this._boundsStore.set(e,null),void this._featuresById.set(e,t);o=Object(u["r"])(o||Object(a["g"])(),t.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),this._boundsStore.set(e,o),this._featuresById.set(e,t)}_remove(t){return Object(i["k"])(this.onFeatureRemove)&&this.onFeatureRemove(t),this._markedIds.delete(t.objectId),this._boundsStore.delete(t.objectId),this._featuresById.delete(t.objectId),t}}e["a"]=p},"88d1":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return o}));var i=n("c120"),r=n("7ffa"),s=n("8246");function o(t){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===t||"esriGeometryMultipoint"===t?s["a"]:"esriGeometryPolyline"===t?s["c"]:s["b"]}}}function a(t,e){if(Object(i["a"])("csp-restrictions"))return()=>({[e]:null,...t});try{let n=`this.${e} = null;`;for(const e in t)n+=`this${e.indexOf(".")?`["${e}"]`:"."+e} = ${JSON.stringify(t[e])};`;const i=new Function(n);return()=>new i}catch(n){return()=>({[e]:null,...t})}}function u(t={}){return[{name:"New Feature",description:"",prototype:{attributes:Object(r["a"])(t)}}]}},ce76:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("b2b2"),r=n("b50f"),s=n("8a44"),o=n("4637");class a{constructor(t=9,e){this.compareMinX=d,this.compareMinY=h,this.toBBox=function(t){return t},this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&("function"==typeof e?this.toBBox=e:this._initFormat(e)),this.clear()}destroy(){this.clear(),x.prune(),I.prune(),j.prune(),M.prune()}all(t){this._all(this.data,t)}search(t,e){let n=this.data;const i=this.toBBox;if(b(t,n))for(x.clear();n;){for(let r=0,s=n.children.length;r<s;r++){const s=n.children[r],o=n.leaf?i(s):s;b(t,o)&&(n.leaf?e(s):g(t,o)?this._all(s,e):x.push(s))}n=x.pop()}}collides(t){let e=this.data;const n=this.toBBox;if(!b(t,e))return!1;for(x.clear();e;){for(let i=0,r=e.children.length;i<r;i++){const r=e.children[i],s=e.leaf?n(r):r;if(b(t,s)){if(e.leaf||g(t,s))return!0;x.push(r)}}e=x.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}let e=this._build(t.slice(0,t.length),0,t.length-1,0);if(this.data.children.length)if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){const t=this.data;this.data=e,e=t}this._insert(e,this.data.height-e.height-1,!0)}else this.data=e;return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=new B([]),this}remove(t){if(!t)return this;let e,n=this.data,s=null,o=0,a=!1;const u=this.toBBox(t);for(j.clear(),M.clear();n||j.length>0;){var c;if(n||(n=Object(i["d"])(j.pop()),s=j.data[j.length-1],o=null!=(c=M.pop())?c:0,a=!0),n.leaf&&(e=Object(r["e"])(n.children,t,n.children.length,n.indexHint),-1!==e))return n.children.splice(e,1),j.push(n),this._condense(j),this;a||n.leaf||!g(n,u)?s?(o++,n=s.children[o],a=!1):n=null:(j.push(n),M.push(o),o=0,s=n,n=n.children[0])}return this}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,e){let n=t;for(I.clear();n;){var i;if(!0===n.leaf)for(const t of n.children)e(t);else I.pushArray(n.children);n=null!=(i=I.pop())?i:null}}_build(t,e,n,i){const r=n-e+1;let s=this._maxEntries;if(r<=s){const i=new B(t.slice(e,n+1));return u(i,this.toBBox),i}i||(i=Math.ceil(Math.log(r)/Math.log(s)),s=Math.ceil(r/s**(i-1)));const o=new F([]);o.height=i;const a=Math.ceil(r/s),c=a*Math.ceil(Math.sqrt(s));_(t,e,n,c,this.compareMinX);for(let u=e;u<=n;u+=c){const e=Math.min(u+c-1,n);_(t,u,e,a,this.compareMinY);for(let n=u;n<=e;n+=a){const r=Math.min(n+a-1,e);o.children.push(this._build(t,n,r,i-1))}}return u(o,this.toBBox),o}_chooseSubtree(t,e,n,i){for(;i.push(e),!0!==e.leaf&&i.length-1!==n;){let n,i=1/0,r=1/0;for(let s=0,o=e.children.length;s<o;s++){const o=e.children[s],a=f(o),u=p(t,o)-a;u<r?(r=u,i=a<i?a:i,n=o):u===r&&a<i&&(i=a,n=o)}e=n||e.children[0]}return e}_insert(t,e,n){const i=this.toBBox,r=n?t:i(t);j.clear();const s=this._chooseSubtree(r,this.data,e,j);for(s.children.push(t),l(s,r);e>=0&&j.data[e].children.length>this._maxEntries;)this._split(j,e),e--;this._adjustParentBBoxes(r,j,e)}_split(t,e){const n=t.data[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);const s=this._chooseSplitIndex(n,r,i);if(!s)return void console.log("  Error: assertion failed at PooledRBush._split: no valid split index");const o=n.children.splice(s,n.children.length-s),a=n.leaf?new B(o):new F(o);a.height=n.height,u(n,this.toBBox),u(a,this.toBBox),e?t.data[e-1].children.push(a):this._splitRoot(n,a)}_splitRoot(t,e){this.data=new F([t,e]),this.data.height=t.height+1,u(this.data,this.toBBox)}_chooseSplitIndex(t,e,n){let i,r,s;i=r=1/0;for(let o=e;o<=n-e;o++){const e=c(t,0,o,this.toBBox),a=c(t,o,n,this.toBBox),u=y(e,a),l=f(e)+f(a);u<i?(i=u,s=o,r=l<r?l:r):u===i&&l<r&&(r=l,s=o)}return s}_chooseSplitAxis(t,e,n){const i=t.leaf?this.compareMinX:d,r=t.leaf?this.compareMinY:h;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)}_allDistMargin(t,e,n,i){t.children.sort(i);const r=this.toBBox,s=c(t,0,e,r),o=c(t,n-e,n,r);let a=m(s)+m(o);for(let u=e;u<n-e;u++){const e=t.children[u];l(s,t.leaf?r(e):e),a+=m(s)}for(let u=n-e-1;u>=e;u--){const e=t.children[u];l(o,t.leaf?r(e):e),a+=m(o)}return a}_adjustParentBBoxes(t,e,n){for(let i=n;i>=0;i--)l(e.data[i],t)}_condense(t){for(let e=t.length-1;e>=0;e--){const n=t.data[e];if(0===n.children.length)if(e>0){const i=t.data[e-1],s=i.children;s.splice(Object(r["e"])(s,n,s.length,i.indexHint),1)}else this.clear();else u(n,this.toBBox)}}_initFormat(t){const e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}function u(t,e){c(t,0,t.children.length,e,t)}function c(t,e,n,i,r){r||(r=new B([])),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let s,o=e;o<n;o++)s=t.children[o],l(r,t.leaf?i(s):s);return r}function l(t,e){t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY)}function d(t,e){return t.minX-e.minX}function h(t,e){return t.minY-e.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function m(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function y(t,e){const n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,r-n)*Math.max(0,s-i)}function g(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function b(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function _(t,e,n,r,s){const a=[e,n];for(;a.length;){const e=Object(i["d"])(a.pop()),n=Object(i["d"])(a.pop());if(e-n<=r)continue;const u=n+Math.ceil((e-n)/r/2)*r;Object(o["a"])(t,u,n,e,s),a.push(n,u,u,e)}}const x=new s["a"],I=new s["a"],j=new s["a"],M=new s["a"]({deallocator:void 0});class w{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class O extends w{constructor(){super(...arguments),this.height=1,this.indexHint=new r["a"]}}class B extends O{constructor(t){super(),this.children=t,this.leaf=!0}}class F extends O{constructor(t){super(),this.children=t,this.leaf=!1}}},e3a3:function(t,e,n){"use strict";n.d(e,"a",(function(){return Y})),n.d(e,"b",(function(){return S})),n.d(e,"c",(function(){return v}));var i=n("ce50"),r=n("9392"),s=n("8152");function o(t){const e=[];for(;;){const{value:n,done:i}=t.next();if(i)return e;e.push(n)}}function a(t){const e=[];return t.forEach(t=>e.push(t)),e}const u={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function*c(t){switch(t.type){case"Feature":yield t;break;case"FeatureCollection":for(const e of t.features)e&&(yield e)}}function*l(t){if(!t)return null;switch(t.type){case"Point":yield t.coordinates;break;case"LineString":case"MultiPoint":yield*t.coordinates;break;case"MultiLineString":case"Polygon":for(const e of t.coordinates)yield*e;break;case"MultiPolygon":for(const e of t.coordinates)for(const t of e)yield*t}}function*d(t,e={}){const{geometryType:n,objectIdFieldName:i}=e;for(;;){const{value:o,done:a}=t.next();if(a)return;const{geometry:c,properties:l,id:d}=o;if(c&&u[c.type]!==n)continue;const h=l||{};i&&null!=d&&!h[i]&&(h[i]=d);const f=new r["a"](c?g(new s["a"],c,e):null,h);yield f}}function h(t){for(;;){const{value:e,done:n}=t.next();if(n)return!1;if(e.length>2)return!0}}function f(t){return!p(t)}function m(t){return p(t)}function p(t){let e=0;for(let n=0;n<t.length;n++){const i=t[n],r=t[(n+1)%t.length];e+=i[0]*r[1]-r[0]*i[1]}return e<=0}function y(t){const e=t[0],n=t[t.length-1];return e[0]===n[0]&&e[1]===n[1]&&e[2]===n[2]||t.push(e),t}function g(t,e,n){switch(e.type){case"LineString":return b(t,e,n);case"MultiLineString":return _(t,e,n);case"MultiPoint":return x(t,e,n);case"MultiPolygon":return I(t,e,n);case"Point":return j(t,e,n);case"Polygon":return M(t,e,n)}}function b(t,e,n){return B(t,e.coordinates,n),t}function _(t,e,n){for(const i of e.coordinates)B(t,i,n);return t}function x(t,e,n){return B(t,e.coordinates,n),t}function I(t,e,n){for(const i of e.coordinates){w(t,i[0],n);for(let e=1;e<i.length;e++)O(t,i[e],n)}return t}function j(t,e,n){return E(t,e.coordinates,n),t}function M(t,e,n){const i=e.coordinates;w(t,i[0],n);for(let r=1;r<i.length;r++)O(t,i[r],n);return t}function w(t,e,n){const i=y(e);f(i)?F(t,i,n):B(t,i,n)}function O(t,e,n){const i=y(e);m(i)?F(t,i,n):B(t,i,n)}function B(t,e,n){for(const i of e)E(t,i,n);t.lengths.push(e.length)}function F(t,e,n){for(let i=e.length-1;i>=0;i--)E(t,e[i],n);t.lengths.push(e.length)}function E(t,e,n){const[i,r,s]=e;t.coords.push(i,r),n.hasZ&&t.coords.push(s||0)}function T(t){switch(typeof t){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function v(t){if(!t)throw new i["a"]("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==t.type&&"FeatureCollection"!==t.type)throw new i["a"]("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:t});const{crs:e}=t;if(!e)return;const n="string"==typeof e?e:"name"===e.type?e.properties.name:null,r=new RegExp(".*(CRS84H?|4326)$","i");if(!n||!r.test(n))throw new i["a"]("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:e})}function S(t,e={}){const n=c(t),i=[],r=new Set,s=new Set;let o,d=!1,f=Number.NEGATIVE_INFINITY,m=null,p=!1,{geometryType:y=null}=e,g=!1;for(;;){const{value:t,done:e}=n.next();if(e){const t=m&&1===m.length&&m[0]||null;if(t)for(const e of i)e.name===t&&(e.type="esriFieldTypeOID");return{fields:i,geometryType:y,hasZ:d,maxObjectId:Math.max(0,f),objectIdFieldName:t,objectIdFieldType:o,unknownFields:a(s)}}const{geometry:c,properties:b,id:_}=t;if((!c||(y||(y=u[c.type]),u[c.type]===y))&&(d||(d=h(l(c))),p||(p=null!=_,p&&(o=typeof _,"number"===o&&(m=Object.keys(b).filter(t=>b[t]===_)))),p&&"number"===o&&null!=_&&(f=Math.max(f,_),m.length>1?m=m.filter(t=>b[t]===_):1===m.length&&(m=b[m[0]]===_?m:[])),!g&&b)){let t=!0;for(const e in b){if(r.has(e))continue;const n=b[e];if(null==n){t=!1,s.add(e);continue}const o=T(n);"unknown"!==o?(s.delete(e),r.add(e),i.push({name:e,alias:e,type:o})):s.add(e)}g=t}}}function Y(t,e){return o(d(c(t),e))}}}]);